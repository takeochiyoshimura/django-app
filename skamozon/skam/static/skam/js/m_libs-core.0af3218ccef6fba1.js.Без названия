(self.webpackChunk_ozon_ozon_ru=self.webpackChunk_ozon_ozon_ru||[]).push([["libs-core"],{de3f4:function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e){void 0===e&&(e=console),this._hooks=new Map,this._onError=e}return e.prototype.on=function(e,t){var o=this;if(e&&t){this._hooks.has(e)||this._hooks.set(e,new Set);var r=this._hooks.get(e);return r&&r.add(t),function(){var r=o._hooks.get(e);r&&r.delete(t)}}var n=this.hookException("Error while try to subscribe on hook without passing name or handler!");this._onError.error(n)},e.prototype.once=function(e,t){if(e&&t){var o=this.on(e,(function(e){t(e),o&&o()}));return o}var r=this.hookException("Error while try to once subscribe on hook without passing name or handler!");this._onError.error(r)},e.prototype.callHook=function(e,t){return o=this,n=function(){var o,r,n,i,s,a,u;return function(e,t){var o,r,n,i,s={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(n=2&i[0]?r.return:i[0]?r.throw||((n=r.return)&&n.call(r),0):r.next)&&!(n=n.call(r,i[1])).done)return n;switch(r=0,n&&(i=[2&i[0],n.value]),i[0]){case 0:case 1:n=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!((n=(n=s.trys).length>0&&n[n.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){s.label=i[1];break}if(6===i[0]&&s.label<n[1]){s.label=n[1],n=i;break}if(n&&s.label<n[2]){s.label=n[2],s.ops.push(i);break}n[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{o=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}(this,(function(c){switch(c.label){case 0:if(!e)return u=this.hookException("Error while try to call hook without name or passing values!"),this._onError.error(u),[2,void 0];if(o=this._hooks.get(e),!(r=o?Array.from(o):[]).length)return[3,8];n=0,c.label=1;case 1:if(!(n<r.length))return[3,8];if("function"!=typeof(i=r[n]))return[3,6];c.label=2;case 2:return c.trys.push([2,4,,5]),[4,this.resolveHookPromise(i,t)];case 3:return null===(s=c.sent())||!1!==s&&"object"!=typeof s?[3,5]:[2,s];case 4:return a=c.sent(),u=this.hookException(a,i),this._onError.error(u),[2,!1];case 5:return[3,7];case 6:u=this.hookException("Hook must be type of function, but passed - "+typeof i+"!",i),this._onError.error(u),c.label=7;case 7:return n++,[3,1];case 8:return[2,void 0]}}))},new((r=void 0)||(r=Promise))((function(e,t){function i(e){try{a(n.next(e))}catch(e){t(e)}}function s(e){try{a(n.throw(e))}catch(e){t(e)}}function a(t){var o;t.done?e(t.value):(o=t.value,o instanceof r?o:new r((function(e){e(o)}))).then(i,s)}a((n=n.apply(o,[])).next())}));var o,r,n},e.prototype.resolveHookPromise=function(e,t){var o;return Promise.race([new Promise((function(o,r){var n=e(t);return n instanceof Promise?n.then((function(e){return n=e})).then(o).catch(r):o(n)})),new Promise((function(e,t){o=setTimeout(t,5e3,new Error("Time out in 5000 ms. while try to resolve hook!"))}))]).finally((function(){return clearTimeout(o)}))},e.prototype.hookException=function(e,t){var o=e instanceof Error?e:new Error("Error during call hook!"),r="string"==typeof e?new Error(e):o;return{exception:e instanceof Error?e:r,payload:{hook:void 0!==t?t.toString():"none"},zone:"hook"}},e}();t.HookEmitter=o},c9e1e:function(e){(()=>{"use strict";var t,o,r={d:(e,t)=>{for(var o in t)r.o(t,o)&&!r.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};r.r(n),r.d(n,{APPLY_TAB:()=>c,EGenderTypes:()=>h,ELoggerLogLevels:()=>E,ERxStoreClientFlagNames:()=>o,ERxStoreEventNames:()=>t,ESocketNamespaces:()=>l,EUserTypes:()=>d}),function(e){e.Favorites="Favorites",e.FavoritesCount="FavoritesCount",e.SetClientFlag="SetClientFlag",e.FavoriteListSelectProduct="FavoriteListSelectProduct",e.ReferralManagerTasksCounters="ReferralManagerTasksCounters",e.ReferralFilterTasks="ReferralFilterTasks",e.TravelError="TravelError",e.TravelErrorTimeOutCheckout="TravelErrorTimeOutCheckout",e.TravelCreateBookingFlag="TravelCreateBookingFlag",e.TravelUpdateCheck="TravelUpdateCheck",e.ShowLocationModal="ShowLocationModal",e.ShowAdultModal="ShowAdultModal",e.RailwayShowSeatsLeft="RailwayShowSeatsLeft",e.RailwayUpdateSeatSelectButton="RailwayUpdateSeatSelectButton",e.TravelSearchResultsAvailable="TravelSearchResultsAvailable",e.TravelRailwayChangeSeatsDetails="TravelRailwayChangeSeatsDetails",e.TravelMatcherToContacts="TravelMatcherToContacts",e.TravelUpdatePassengersForm="TravelUpdatePassengersForm",e.TravelClearPassengerForm="TravelClearPassengerForm",e.TravelContactsToMatcher="TravelContactsToMatcher"}(t||(t={})),function(e){e.LocationModal="locationModal",e.AdultModal="adultModal"}(o||(o={}));const c=Symbol("ApplyTab");var l,d,h,E;!function(e){e.COMMUNICATION="CHAT",e.LVS="LVS"}(l||(l={})),function(e){e[e.PHYSICAL=1]="PHYSICAL",e[e.LEGAL=2]="LEGAL"}(d||(d={})),function(e){e[e.EMPTY=0]="EMPTY",e[e.MALE=1]="MALE",e[e.FEMALE=2]="FEMALE"}(h||(h={})),function(e){e.ERROR="error",e.WARN="warn",e.INFO="info"}(E||(E={})),e.exports=n})()},"066fb":function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("98bae"),n=o("de3f4");var c,l,s,i,a,u,d=function(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}(o("21bdb")),p=["fullScreen","theme","withScroll","scrollingWrapper","closeButton","closeButtonPosition","notCentered","centered","noSelfClose"];t.ContextKey=void 0,(c=t.ContextKey||(t.ContextKey={})).PAGE="page",c.MODAL="modal",t.EComposerRedirectTargets=void 0,(l=t.EComposerRedirectTargets||(t.EComposerRedirectTargets={})).SELF="_self",l.BLANK="_blank",t.ERouterHook=void 0,(s=t.ERouterHook||(t.ERouterHook={})).BEFORE_ROUTE_LEAVE="BEFORE_ROUTE_LEAVE",s.AFTER_ROUTE_ENTER="AFTER_ROUTE_ENTER",s.BEFORE_ROUTE_ENTER="BEFORE_ROUTE_ENTER",s.START_ROUTE_LOADING="START_ROUTE_LOADING",s.END_ROUTE_LOADING="END_ROUTE_LOADING",s.BEFORE_URL_CHANGE="BEFORE_URL_CHANGE",s.AFTER_URL_CHANGE="AFTER_URL_CHANGE",t.EContextHook=void 0,(i=t.EContextHook||(t.EContextHook={})).BEFORE_ROUTE_LEAVE="BEFORE_ROUTE_LEAVE",i.AFTER_ROUTE_ENTER="AFTER_ROUTE_ENTER",i.BEFORE_ROUTE_ENTER="BEFORE_ROUTE_ENTER",i.START_ROUTE_LOADING="START_ROUTE_LOADING",i.END_ROUTE_LOADING="END_ROUTE_LOADING",i.BEFORE_URL_CHANGE="BEFORE_URL_CHANGE",i.AFTER_URL_CHANGE="AFTER_URL_CHANGE",t.EComposerRouterStatus=void 0,(a=t.EComposerRouterStatus||(t.EComposerRouterStatus={})).LOADING_SUCCESS="success",a.LOADING_FAILURE="failure",a.LOADING_PENDING="pending",a.LOADING_CANCELLED="cancelled",a.LOADING_REDIRECTED="redirected",t.EContextLoggerLevel=void 0,(u=t.EContextLoggerLevel||(t.EContextLoggerLevel={})).ERROR="error",u.WARNING="warning";var h="object"==typeof window,E=h&&window.history&&window.history.pushState,f={silent:!1,force:!1,scroll:!0,saveHistory:!0},g=function(e,t){if(void 0===t&&(t={}),!e)return{};var o=t.disableDecode,r=void 0!==o&&o,n=e.slice(e.indexOf("?")+1).split("&").reduce((function(e,t){var o=t.split("="),n=o[1]||"";return e[o[0]]=r?n:decodeURIComponent(n),e}),{});return n},v=function(e,t){void 0===t&&(t={});var o,n=t.canAccessWindow,s=void 0===n?h:n,i=r.__rest(t,["canAccessWindow"]),a=!1;s?o=new URL(e,window.location.origin):(o=new URL(e,"http://anyhost"),a=!/^https?:\/\//i.test(e));var u=o.pathname.replace(/((\/)+|(?!\/))$/,"/");return{path:u,search:o.search,query:g(o.search,i),hash:o.hash,fullPath:u+o.search+o.hash,hostname:a?"":o.hostname,protocol:a?"":o.protocol}},y=function(e,t){if(!e||!t)return!1;var o=v(e),r=v(t);return!(!o.path||!r.path)&&o.path===r.path&&o.hash===r.hash&&function(e,t){var o=Object.keys(e),r=Object.keys(t);return o.length===r.length&&o.every((function(o){return e[o]===t[o]}))}(o.query,r.query)&&o.hostname===r.hostname},_=function(e,t){return t.reduce((function(t,o){return Object.prototype.hasOwnProperty.call(e,o)?(t[o]="object"==typeof e[o]?r.__assign({},e[o]):e[o],t):t}),{})},m=function(){function e(e){this.contextName=e}return e.prototype.fetchComposerState=function(e,o,n){var c=o.to,s=o.postBody;return void 0===n&&(n=!1),r.__awaiter(this,void 0,void 0,(function(){var o,i,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return o=s?"post":"get",i=function(e){var t=function(e){if(!document)return console.warn("Do not use @app/helpers/strings:parseURL on serverSide"),{};var t=document.createElement("a");t.href=e;var o=t.pathname;return o=("/"!==o.charAt(0)?"/":"")+o,{hash:t.hash,host:t.host,hostname:t.hostname,href:t.href,pathname:o,protocol:t.protocol,search:t.search,originalEl:t}}(e),o=location.host===t.host?"":t.protocol+"://"+t.host;return t.originalEl.search=t.search?t.search+"&page_changed=true":"?page_changed=true",""+o+t.pathname+t.originalEl.search+t.hash}(c),window&&performance&&performance.mark&&performance.mark("RENDER_TIME:start"),[4,e.fetchComposerLayout({url:i,method:o,payload:s,forbidRedirect:n,context:this.contextName})];case 1:return"object"!=typeof(a=r.sent())?"canceled"===a?[2,{status:t.EComposerRouterStatus.LOADING_CANCELLED}]:(window.location.assign(c),[2,{status:t.EComposerRouterStatus.LOADING_FAILURE}]):(this.pageData=a.pageData,this.widgetsData=a.widgetsData,(u=d.default(this.pageData,"pageInfo.url"))&&c!==u?[2,{status:t.EComposerRouterStatus.LOADING_REDIRECTED,href:u}]:[2,{status:t.EComposerRouterStatus.LOADING_SUCCESS}])}}))}))},e.prototype.setComposerState=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(t){switch(t.label){case 0:return this.pageData?[4,e.reinitAnalytics()]:[3,3];case 1:return t.sent(),[4,e.setComposerLayout({pageData:this.pageData,widgetsData:this.widgetsData})];case 2:t.sent(),t.label=3;case 3:return[2]}}))}))},e}(),T=function(e){function o(o,r){var n=e.call(this,{error:function(e){return o.$logger.error(e)}})||this;return n.current="/",n.prev="",n.loading=!1,n.status=t.EComposerRouterStatus.LOADING_SUCCESS,n.action="replace",n.options=null,n.app=o,n.name=n.getName(),n.layoutManager=new m(n.name),n.useSPA=r,n}return r.__extends(o,e),o.prototype.startLoading=function(e){return r.__awaiter(this,void 0,void 0,(function(){var o,n;return r.__generator(this,(function(r){switch(r.label){case 0:this.loading=!0,this.status=e,o={to:this.current,from:this.prev,status:e},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.callHook(t.EContextHook.START_ROUTE_LOADING,o)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),this.logContextError(n),[3,4];case 4:return[2]}}))}))},o.prototype.stopLoading=function(e){return r.__awaiter(this,void 0,void 0,(function(){var o,n;return r.__generator(this,(function(r){switch(r.label){case 0:this.loading=!1,this.status=e,o={to:this.current,from:this.prev,status:e},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.callHook(t.EContextHook.END_ROUTE_LOADING,o)];case 2:return r.sent(),[3,4];case 3:return n=r.sent(),this.logContextError(n),[3,4];case 4:return[2]}}))}))},o.prototype.logContextError=function(e,o){if(void 0===o&&(o=t.EContextLoggerLevel.ERROR),this.app.$logger){var r=e instanceof Error?e:new Error("string"==typeof e?e:"Error during route navigation!");o!==t.EContextLoggerLevel.WARNING&&(this.stopLoading(t.EComposerRouterStatus.LOADING_FAILURE),this.pending=null),this.app.$logger[o]({exception:r,zone:"context"})}else console.warn("The $logger in app is not determined")},o}(n.HookEmitter),C=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(o,e),o.prototype.getName=function(){return t.ContextKey.PAGE},o.prototype.run=function(e,t,o){return void 0===o&&(o={}),r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){switch(r.label){case 0:return this.action=t,o.silent?[4,this.routeUpdate(e)]:[3,2];case 1:case 3:return r.sent(),[2,Promise.resolve()];case 2:return[4,this.spaTransition(e,o)]}}))}))},o.prototype.routeUpdate=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(o){switch(o.label){case 0:return[4,this.callHook(t.EContextHook.BEFORE_URL_CHANGE,{to:e,from:this.current})];case 1:return o.sent(),"push"===this.action&&(this.prev=this.current),this.current=e,this.changeHistory(e),[4,this.callHook(t.EContextHook.AFTER_URL_CHANGE,{to:e,from:this.prev})];case 2:return o.sent(),[2]}}))}))},o.prototype.changeHistory=function(e){"pop"!==this.action&&window.history[this.action+"State"]({to:e},null,e)},o.prototype.spaTransition=function(e,n){return void 0===n&&(n={}),r.__awaiter(this,void 0,void 0,(function(){var c,s,i,a,u;return r.__generator(this,(function(r){switch(r.label){case 0:return c=n.scroll,s=n.saveHistory,a={},(i=n.postBody)&&(a.postBody=i),"pop"!==this.action&&s&&o.saveScrollPosition(this.current),this.useSPA||"replace"!==this.action||(a.modeSPA=!0,a.action=this.action,c&&!s||o.saveScrollPosition(this.current)),this.pending=e,[4,this.callHook(t.EContextHook.BEFORE_ROUTE_LEAVE,Object.assign({to:this.pending,from:this.current},a))];case 1:return!1===(u=r.sent())||"object"==typeof u&&u.status===t.EComposerRouterStatus.LOADING_CANCELLED?[4,this.stopLoading(t.EComposerRouterStatus.LOADING_CANCELLED)]:[3,3];case 2:return r.sent(),[2];case 3:return this.useSPA?[4,this.startLoading(t.EComposerRouterStatus.LOADING_PENDING)]:[3,5];case 4:r.sent(),r.label=5;case 5:return[4,this.layoutManager.fetchComposerState(this.app,{to:this.pending,from:this.current,postBody:i})];case 6:return"object"!=typeof(u=r.sent())?[3,8]:(u.status===t.EComposerRouterStatus.LOADING_REDIRECTED&&u.href&&(this.pending=u.href,this.action="push"),u.status!==t.EComposerRouterStatus.LOADING_CANCELLED?[3,8]:[4,this.stopLoading(t.EComposerRouterStatus.LOADING_CANCELLED)]);case 7:return r.sent(),[2];case 8:return u&&u.status===t.EComposerRouterStatus.LOADING_FAILURE?[4,this.stopLoading(t.EComposerRouterStatus.LOADING_FAILURE)]:[3,10];case 9:return r.sent(),[2];case 10:return this.prev=this.current,this.current=this.pending,s&&this.changeHistory(this.pending),[4,this.callHook(t.EContextHook.BEFORE_ROUTE_ENTER,{to:this.pending,from:this.prev})];case 11:return r.sent(),[4,this.layoutManager.setComposerState(this.app)];case 12:return r.sent(),[4,this.stopLoading(t.EComposerRouterStatus.LOADING_SUCCESS)];case 13:return r.sent(),[4,this.callHook(t.EContextHook.AFTER_ROUTE_ENTER,{to:this.pending,from:this.prev})];case 14:return r.sent(),c&&"pop"!==this.action&&window.scrollTo(0,0),this.pending=null,[2]}}))}))},o.saveScrollPosition=function(e){var t={to:e,scrollPosition:window.pageYOffset||window.scrollY};window.history.replaceState(t,"",e)},o}(T),A=function(e){function o(){return null!==e&&e.apply(this,arguments)||this}return r.__extends(o,e),o.prototype.getName=function(){return t.ContextKey.MODAL},o.prototype.run=function(e,t,o){return void 0===o&&(o={}),r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(r){switch(r.label){case 0:return this.action=t,o.silent?[4,this.routeUpdate(e)]:[3,2];case 1:case 3:return r.sent(),[2,Promise.resolve()];case 2:return[4,this.layoutUpdate(e,o)]}}))}))},o.prototype.layoutUpdate=function(e,o){return r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return this.pending=e,[4,this.callHook(t.EContextHook.BEFORE_ROUTE_LEAVE,{to:this.pending,from:this.current})];case 1:return!1===(n=r.sent())||"object"==typeof n&&n.status===t.EComposerRouterStatus.LOADING_CANCELLED?[4,this.stopLoading(t.EComposerRouterStatus.LOADING_CANCELLED)]:[3,3];case 2:case 6:case 8:return r.sent(),[2];case 3:return[4,this.startLoading(t.EComposerRouterStatus.LOADING_PENDING)];case 4:return r.sent(),[4,this.layoutManager.fetchComposerState(this.app,{to:this.pending,from:this.current,postBody:o.postBody},!0)];case 5:return"object"!=typeof(n=r.sent())||n.status!==t.EComposerRouterStatus.LOADING_CANCELLED?[3,7]:[4,this.stopLoading(t.EComposerRouterStatus.LOADING_CANCELLED)];case 7:return n&&n.status===t.EComposerRouterStatus.LOADING_FAILURE?[4,this.stopLoading(t.EComposerRouterStatus.LOADING_FAILURE)]:[3,9];case 9:return this.prev=this.current,this.current=this.pending,[4,this.callHook(t.EContextHook.BEFORE_ROUTE_ENTER,{to:this.pending,from:this.prev})];case 10:return r.sent(),this.layoutManager.pageData.layoutModal=this.layoutManager.pageData.layout,delete this.layoutManager.pageData.layout,[4,this.layoutManager.setComposerState(this.app)];case 11:return r.sent(),[4,this.stopLoading(t.EComposerRouterStatus.LOADING_SUCCESS)];case 12:return r.sent(),[4,this.callHook(t.EContextHook.AFTER_ROUTE_ENTER,{to:this.pending,from:this.prev})];case 13:return r.sent(),this.pending=null,[2]}}))}))},o.prototype.routeUpdate=function(e){return r.__awaiter(this,void 0,void 0,(function(){return r.__generator(this,(function(o){switch(o.label){case 0:return[4,this.callHook(t.EContextHook.BEFORE_URL_CHANGE,{to:e,from:this.current})];case 1:return o.sent(),"push"===this.action&&(this.prev=this.current),this.current=e,[4,this.callHook(t.EContextHook.AFTER_URL_CHANGE,{to:e,from:this.prev})];case 2:return o.sent(),[2]}}))}))},o}(T),O=function(e){function o(r){var n,c=r.baseUrl,s=r.referrer,i=r.app,a=e.call(this,i,Boolean(r.useSpa))||this;return o.router?o.router:(a.setContext(t.ContextKey.PAGE),a.context.current=E?(n=window.location).pathname+n.search+n.hash||"/":c,a.context.prev=E?s||document.referrer||"":s,a.app=i,a.init(),o.router=a,a)}return r.__extends(o,e),Object.defineProperty(o.prototype,"current",{get:function(){return this.context.current},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"prev",{get:function(){return this.context.useSPA||this.context.prev?this.context.prev:document.referrer||""},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"loading",{get:function(){return this.context.loading},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"status",{get:function(){return this.context.status},enumerable:!1,configurable:!0}),o.getInstance=function(){return this.router},o.prototype.push=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var o;return r.__generator(this,(function(r){switch(r.label){case 0:if(!E)return[2];if(!e)return this.logRouterError("You need to passed url into push method"),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.runContext("push",e,t)];case 2:return r.sent(),[3,4];case 3:return o=r.sent(),this.logRouterError(o),[3,4];case 4:return[2]}}))}))},o.prototype.replace=function(e,t){return r.__awaiter(this,void 0,void 0,(function(){var o;return r.__generator(this,(function(r){switch(r.label){case 0:if(!E)return[2];if(!e)return this.logRouterError("You need to passed url into replace method"),[2];r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.runContext("replace",e,t)];case 2:return r.sent(),[3,4];case 3:return o=r.sent(),this.logRouterError(o),[3,4];case 4:return[2]}}))}))},o.prototype.back=function(){E&&window.history.go(-1)},o.prototype.forward=function(){E&&window.history.go(1)},o.prototype.redirect=function(e,t){void 0===t&&(t="_self"),E&&(e||this.logRouterError("You don't passed url in the router for redirect on new route!"),window.open(e,t))},o.prototype.refresh=function(e){var t=void 0===e?{}:e,o=t.action,n=void 0===o?"replace":o,s=t.scroll,i=void 0===s||s,a=t.postBody,u=t.saveHistory,c=void 0===u||u;return r.__awaiter(this,void 0,void 0,(function(){var e;return r.__generator(this,(function(t){switch(t.label){case 0:if(!E)return[2];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.runContext(n,this.current,{scroll:i,force:!0,postBody:a,saveHistory:c})];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.logRouterError(e),[3,4];case 4:return[2]}}))}))},o.prototype.getParams=function(e){e&&this.setContextByPath(e);var t=e||this.current;if(t)try{return v(t)}catch(e){this.logRouterError(e);var o=t.split("?")[0];return v(o)}else this.logRouterError("Can not find url for conversion!")},o.prototype.on=function(e,t){return this.context.on(e,t)},o.prototype.once=function(e,t){return this.context.once(e,t)},o.prototype.runContext=function(e,t,o){return void 0===o&&(o={}),r.__awaiter(this,void 0,void 0,(function(){var n;return r.__generator(this,(function(r){switch(r.label){case 0:return n=Object.assign({},f,o),y(t,this.current)&&!n.force?[2]:this.context.pending&&this.context.pending===t?(this.context.pending,[2]):t?(n.context?this.setContext(n.context,t):this.setContextByPath(t),void 0!==n.contextOptions&&this.setContextOptions(n.contextOptions,t),[4,this.context.run(t,e,n)]):(window.location.reload(),[2]);case 1:return r.sent(),[2]}}))}))},o.prototype.init=function(){E&&(window.history.replaceState({to:this.current},"",this.current),"scrollRestoration"in window.history&&(window.history.scrollRestoration="manual",window.addEventListener("beforeunload",(function(){window.history.scrollRestoration="auto"})),window.addEventListener("load",(function(){window.history.scrollRestoration="manual"}))),window.addEventListener("popstate",this.handlePopState.bind(this)))},o.prototype.handlePopState=function(e){return r.__awaiter(this,void 0,void 0,(function(){var t;return r.__generator(this,(function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),e.state&&e.state.to?[4,this.runContext("pop",e.state.to)]:[2];case 1:return o.sent(),[3,3];case 2:return t=o.sent(),this.logRouterError(t),[3,3];case 3:return e&&e.state&&window.scrollTo(0,e.state.scrollPosition),[2]}}))}))},o.prototype.logRouterError=function(e){var t=e instanceof Error?e:new Error("string"==typeof e?e:"Error during route navigation!");this.app.$logger.error({exception:t,zone:"router"})},o}(function(){function e(o,r){if(this.contextMap=new Map,e.resolver)return e.resolver;this.contextMap.set(t.ContextKey.PAGE,new C(o,r)),this.contextMap.set(t.ContextKey.MODAL,new A(o,r)),e.resolver=this}return Object.defineProperty(e.prototype,"contextOptions",{get:function(){return this.context.options},enumerable:!1,configurable:!0}),e.getInstance=function(){return e.resolver},e.prototype.getContext=function(e){if(!e)throw new Error("You need to passed name for getting the context!");var t=this.contextMap.get(e);if(!t)throw new Error("Can't find context in map by name - "+e+"!");return t},e.prototype.setContextByPath=function(e){if(!e)throw new Error("You need to passed path for setting the context!");var o=/\/_action\//.test(e);if(!this.context||!o){var r=/\/modal\//.test(e)?t.ContextKey.MODAL:t.ContextKey.PAGE,n=this.contextMap.get(r);if(!n)throw new Error("Can't find context in map by name - "+r+"!");this.context=n,r===t.ContextKey.MODAL&&this.setContextOptionsByUrl(e)}},e.prototype.setContext=function(e,o){if(!e)throw new Error("You need to passed name for setting the context!");var r=this.contextMap.get(e);if(!r)throw new Error("Can't find context in map by name - "+e+"!");this.context=r,e===t.ContextKey.MODAL&&o&&this.setContextOptionsByUrl(o)},e.prototype.setContextOptions=function(e,t){if(null!==e){var o=t?v(t).query:{},r=this.context.options;this.context.options=Object.assign({},void 0===r?{}:r,_(o,p),e)}else this.context.options=null},e.prototype.setContextOptionsByUrl=function(e){var t=v(e).query,o=this.context.options;this.context.options=Object.assign({},void 0===o?{}:o,_(t,p))},e}());t.CONTEXT_OPTIONS_KEYS=p,t.Router=O,t.isSameRoute=y,t.mergeUrl=function(e){var t=e.currentUrl,o=e.newerUrl;if(t===o)return o;var n={disableDecode:!0},s=v(t,n),i=v(o,n).query,a=s.path,u=s.hash,c=s.protocol,p=s.hostname;c=c?c+"//":"",p=p?c+p:"";var l=r.__assign(r.__assign({},s.query),i),d=Object.entries(l).map((function(e){var t=e[0],o=e[1];return o?t+"="+o:t})).join("&"),h=t.startsWith(p)?p+a:a,E=d?h+"?"+d:h;return u?""+E+u:E}},f9266:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("8a88e"),n=o("d6606"),c=o("cc71f"),l=o("de3f4"),d=o("ee6c4");function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var s=i(r),a=i(n),h=i(d),p=function(e,t){return p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},p(e,t)};function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var E,f,v=function(){return v=Object.assign||function(e){for(var t,o=arguments,r=1,n=arguments.length;r<n;r++)for(var i in t=o[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},v.apply(this,arguments)};function y(e){return""+(function(e){return e.indexOf("://")>0||0===e.indexOf("//")}(e)?"":window.location.origin)+e}function g(e){return'{"events":'+e+"}"}function _(e){return"TSDK:"+e}!function(e){e.UNLOAD="unload",e.BEFORE_UNLOAD="beforeunload",e.LOAD="load"}(E||(E={})),(f=t.ETrackerHooks||(t.ETrackerHooks={})).EVENT_ADD="EVENT_ADD",f.EVENTS_SENT="EVENTS_SENT";var m,T={get:o("21bdb")};!function(e){e.START="start",e.END="end"}(m||(m={}));var C,b=function(){function e(e){this.heldEvents=[],this.sentEvents=[],this.capacity=20,this.capacity=void 0!==e.capacity?e.capacity:20}return e.prototype.addHeldEvents=function(e,t){var o,r;void 0===t&&(t=m.END),"start"===t?Array.isArray(e)?(o=this.heldEvents).unshift.apply(o,e):this.heldEvents.unshift(e):Array.isArray(e)?(r=this.heldEvents).push.apply(r,e):this.heldEvents.push(e)},e.prototype.addSentEvents=function(e){var t;(t=this.sentEvents).push.apply(t,e)},e.prototype.updateHeldEvent=function(e,t){return"object"==typeof this.heldEvents[e]&&(this.heldEvents[e].data=Object.assign({},t),!0)},e.prototype.deleteHeldEvent=function(e){return"object"==typeof this.heldEvents[e]&&(this.heldEvents.splice(e,1),!0)},e.prototype.clearHeldEvents=function(){this.heldEvents=[]},e.prototype.clearSentEvents=function(){this.sentEvents=[]},e.prototype._isFilled=function(){return this.heldEvents.length>=this.capacity},e}();function A(){return{}}function O(e){return"object"==typeof e&&null!==e}function I(){try{return O(sessionStorage)}catch(e){if("Failed to read the 'sessionStorage' property from 'Window': Access is denied for this document."===e.message)return!1;throw e}}function w(){try{return O(localStorage)}catch(e){if("Failed to read the 'localStorage' property from 'Window': Access is denied for this document."===e.message)return!1;throw e}}function N(){if(I()){var e=sessionStorage.getItem(_("pageHash"));w()&&localStorage.removeItem(_(e))}}function R(){var e=C.NAVIGATE;if("object"==typeof window&&"object"==typeof window.performance)if("object"==typeof window.performance.navigation)e=window.performance.navigation.type?C.RELOAD:C.NAVIGATE;else if("function"==typeof performance.getEntriesByType){var t=performance.getEntriesByType("navigation").map((function(e){return e.type}));e=t[0]&&"reload"===t[0]?C.RELOAD:C.NAVIGATE}return e}!function(e){e.NAVIGATE="navigate",e.RELOAD="reload",e.NAVIGATE_WITH_RELOAD="navigate_with_reload",e.NAVIGATE_IN_NEW_TAB="navigate_in_new_tab"}(C||(C={}));var S=function(e){void 0===e&&(e=21);for(var t="",o=e;o--;)t+="abcdef0123456789"[16*Math.random()|0];return t};function L(){return S(8)+"-"+S(4)+"-4"+S(3)+"-"+S(4)+"-"+S(12)}function D(e,t,o){var r="";if(e.length<o)for(var n=0;n<o-e.length;++n)r+=t;return r+e}function P(e){return e.getFullYear()+"-"+D((e.getMonth()+1).toString(),"0",2)+"-"+D(e.getDate().toString(),"0",2)+" "+D(e.getHours().toString(),"0",2)+":"+D(e.getMinutes().toString(),"0",2)+":"+D(e.getSeconds().toString(),"0",2)+" "+function(e){var t=e.getTimezoneOffset()>0?"-":"+",o=Math.abs(e.getTimezoneOffset());return t+D(Math.floor(o/60).toString(),"0",2)+D((o%60).toString(),"0",2)}(e)}var k=function(e,t){this.options=t,this.event=Object.assign({},e),this.event.attributes=this.setEventAttributes(this.event.attributes)},x={name:"event",constructor:function(e){function t(t,o){return e.call(this,t,o)||this}return u(t,e),t.prototype.setEventAttributes=function(e){return void 0===e&&(e={}),e.userAgent=void 0!==e.userAgent?e.userAgent:navigator.userAgent,e.platform=void 0!==e.platform?e.platform:this.options.platform,e.screenResolutionX=void 0!==e.screenResolutionX?e.screenResolutionX:screen.width,e.screenResolutionY=void 0!==e.screenResolutionY?e.screenResolutionY:screen.height,e},t}(k)},U=function(){function e(e,t){this.navigationType=R(),this.viewNumber=1,this.pageNumber=1,this.nextPageNumber=1,this.currentUrl="",this.referralUrl="",this.pageViewId=L(),this.previousPageViewId=void 0,this.currentPageType="",this.previousPageType=void 0,this.pageInit=!1,this.supplier=new Map,this.namespace=e.namespace,this.version=e.version||"unknown",this.pageTimestamp=e.pageTimestamp,this.registryEvents(t),this.registryOnInit(),window.addEventListener(E.BEFORE_UNLOAD,N)}return Object.defineProperty(e.prototype,"isMobile",{get:function(){return void 0===this._isMobile&&(this._isMobile=h.default({tablet:!1,featureDetect:!0})),this._isMobile},enumerable:!1,configurable:!0}),e.prototype.getEventByType=function(e,t){void 0===t&&(t={});var o=this.supplier.get(e);if(void 0===o)throw new Error("Не удалось получить конструктор события по ключу - "+e);var r=new o(t,{platform:this.isMobile?c.EPlatform.MOBILE_SITE:c.EPlatform.SITE}).event;return r.actionType===c.EActionTypes.PAGE_VIEW_ACTION&&(this.savePageViewInformation(r.page),this.currentPageType="object"==typeof r.page&&void 0!==r.page.current?r.page.current:"",this.enrichEvent(r)),r.timestamp=r.timestamp||P(new Date),r.pageTimestamp=this.pageTimestamp,r.attributes.namespace=r.actionType===c.EActionTypes.SCREEN_CLICK?"native":this.namespace,r.attributes.appVersion=_(this.version),r.uuid=r.uuid||L(),r},e.prototype.enrichEvent=function(e){return void 0===e&&(e={}),e.page=Object.assign({},e.page),e.page.number=this.pageNumber,e.page.currentUrl=this.currentUrl,e.page.current=this.currentPageType,e.page.referralUrl=this.referralUrl,e.page.previous=this.previousPageType,e.page.pageViewId=this.pageViewId,e.page.previousPageViewId=this.previousPageViewId,e},e.prototype.registryEvents=function(e){if(this.supplier.set(x.name,x.constructor),Array.isArray(e))for(var t=0;t<e.length;t++){var o=e[t];o.name!==x.name&&this.supplier.set(o.name,o.constructor)}},e.prototype.registryOnInit=function(){var e=I()?sessionStorage.getItem(_("pageHash")):null,t=I()?sessionStorage.getItem(_("customReferrer")):"";this.pageInit=function(){if(I()){var e=R(),t=sessionStorage.getItem(_("pageInit"));return null!==t&&"false"!==t&&e!==C.RELOAD||(sessionStorage.setItem(_("pageInit"),"true"),!1)}return!1}();var o=this.pageInit&&null!==e&&!document.referrer?e:document.referrer;this.currentUrl=window.location.href,this.referralUrl=this.navigationType===C.RELOAD&&null!==t?t:o,!I()||null!==t&&""!==t&&this.navigationType===C.RELOAD||sessionStorage.setItem(_("customReferrer"),document.referrer),Object.defineProperty(document,"referrer",{value:y(this.referralUrl||"/"),writable:!0});var r=function(){if(I()){var e=sessionStorage.getItem(_("nextPageNumber"));return null!==e?e:null}return null}();null!==r&&(this.pageNumber=Number(r),this.nextPageNumber=this.pageNumber),this.getInformationFromStorage()},e.prototype.setViewNumber=function(){var e=this.viewNumber++;return this.viewNumber>=Number.MAX_SAFE_INTEGER&&(this.viewNumber=1),e},e.prototype.setNextPageNumber=function(){var e=this.nextPageNumber++;return this.nextPageNumber>=Number.MAX_SAFE_INTEGER&&(this.nextPageNumber=1),e},e.prototype.savePageViewInformation=function(e){void 0===e&&(e={}),this.pageNumber=this.setNextPageNumber();var t,o=this.setViewNumber();this.pageNumber>1&&(this.pageViewId=L(),this.pageInit&&this.trackPageTransition(o,e.currentUrl,e.referralUrl)),t=this.nextPageNumber,I()&&sessionStorage.setItem(_("nextPageNumber"),String(t)),this.pageInit&&w()&&localStorage.removeItem(_(this.referralUrl)),function(e,t){var o=R();if(I()){sessionStorage.setItem(_("pageHash"),e);var r=JSON.parse(sessionStorage.getItem(_("pageData"))||"{}"),n=Object.keys(r);2===n.length&&o!==C.RELOAD&&delete r[n[0]],r[e]=t,sessionStorage.setItem(_("pageData"),JSON.stringify(r))}w()&&localStorage.setItem(_(e),JSON.stringify(t))}(this.currentUrl,{pageViewId:this.pageViewId,pageType:e.current}),this.pageInit=!0},e.prototype.trackPageTransition=function(e,t,o){var r=e>1;r&&void 0===t&&console.warn("При spa-переходе необходимо прокидывать обновлённый url в page.currentUrl.");var n,i=r?this.currentUrl:this.referralUrl;r&&(Object.defineProperty(document,"referrer",{value:i,writable:!0}),n=C.NAVIGATE===C.RELOAD?1:0,"object"==typeof window&&("object"==typeof window.performance.navigation?Object.defineProperties(window.performance.navigation,{type:{value:n,writable:!0}}):Object.defineProperties(window.performance,{navigation:{value:{type:n},writable:!0}})),I()&&sessionStorage.setItem(_("customReferrer"),i));var s=void 0!==o?o:i;this.currentUrl=y(void 0!==t?t:this.currentUrl),this.referralUrl=y(s||"/"),this.getInformationFromStorage()},e.prototype.getInformationFromStorage=function(){var e=function(e){if(I()&&w()){var t=""!==e?e:sessionStorage.getItem(_("pageHash")),o=sessionStorage.getItem(_("pageData"));if(null!==t&&null!==o){var r=JSON.parse(o||"{}");return"object"==typeof r[t]&&Object.keys(r[t]).length?r[t]:{}}return JSON.parse(localStorage.getItem(_(e))||"{}")}return{}}(this.referralUrl);this.saveData(e)},e.prototype.saveData=function(e){this.previousPageType=e.pageType,this.previousPageViewId=e.pageViewId},e}();function M(e){if(null==e||"object"!=typeof e)return e;if(e instanceof Date)return e;if(e instanceof String)return e;if(e instanceof Number)return e;if(e instanceof Boolean)return e;if(e instanceof RegExp)return e;var t={};for(var o in e instanceof Array&&(t=new Array(e.length)),e)t[o]=M(e[o]);return t}(t.EDefaultEvents||(t.EDefaultEvents={})).EVENT="event";var j=function(e){function o(t,o){var r=e.call(this)||this;r.isTMEnabled=!1,r.isTMAllowed=!1,r.isPageViewSent=!1,r.isPageCloseSent=void 0,r.isOnUnload=!1,r.scrollDepth=0,r.pageStartTimestamp=0,r.checkScrollDeep=function(){window.scrollY>r.scrollDepth&&(r.scrollDepth=window.scrollY)},r.pageStartTimestamp=Date.now(),r.isTMAllowed=Boolean(T.get(t,"manager.enable"));try{r.config=function(e){var t=Object.assign({},e);if(!t.namespace)throw new Error("Необходимо установить параметр namespace в конструктор Tracker SDK");t.dev=void 0!==t.dev&&t.dev;var o="localhost"===window.location.hostname||"127.0.0.1"===window.location.hostname,r=o||t.dev?"https://trinity-storage-stg.ozonru.me/v1/json-payloads":"https://trinity-storage.t.o3.ru/v1/json-payloads",n=o||t.dev?"https://cdn-qa.ozonru.me":"https://cdn2.ozone.ru",i=o||t.dev?"https://cdn-qa.ozonru.me":"https://cdn2.ozone.ru";return t.host=void 0!==t.host?t.host:o||t.dev?"https://xapi-stg.ozonru.me/dlte/multi":"https://xapi.ozon.ru/dlte/multi",t.trinityStorageUrl=void 0!==t.trinityStorageUrl?t.trinityStorageUrl:r,t.logs={enable:"object"==typeof t.logs&&"boolean"==typeof t.logs.enable&&t.logs.enable,host:"object"==typeof t.logs&&"string"==typeof t.logs.host?t.logs.host:"https://xapi.ozon.ru/v1/tracker-logs"},t.manager={enable:"object"==typeof t.manager&&"boolean"==typeof t.manager.enable&&t.manager.enable,host:"object"==typeof t.manager&&"string"==typeof t.manager.host?t.manager.host:n},t.metrics={enable:"object"==typeof t.metrics&&"boolean"==typeof t.metrics.enable&&t.metrics.enable,host:"object"==typeof t.metrics&&"string"==typeof t.metrics.host?t.metrics.host:i},t.sendTimeout=void 0!==t.sendTimeout?t.sendTimeout:2e4,t.pageViewEnabled=void 0===t.pageViewEnabled||t.pageViewEnabled,t.pageCloseEnabled=void 0===t.pageCloseEnabled||t.pageCloseEnabled,t.eventTemplate="function"==typeof t.eventTemplate?t.eventTemplate:A,t.pageAdditional=void 0!==t.pageAdditional?t.pageAdditional:{},t}(Object.assign({},t))}catch(e){throw console.error(e),e}try{r.store=new b({capacity:r.config.capacity})}catch(e){throw console.error(e),e}try{r.factory=new U({namespace:r.config.namespace,version:r.config.version,pageTimestamp:P(new Date(r.pageStartTimestamp))},o)}catch(e){throw console.error(e),e}return r.sendTimeout=r.config.sendTimeout,setTimeout((function(){if(-1!==("object"==typeof PerformanceObserver&&Array.isArray(PerformanceObserver.supportedEntryTypes)||[]).indexOf("layout-shift")){var e=function(){"hidden"===document.visibilityState&&(r.flush(),removeEventListener("visibilitychange",e,!0))};addEventListener("visibilitychange",e,!0)}else addEventListener("pagehide",(function(){return r.flush()}),{capture:!0,once:!0})})),window.addEventListener("scroll",r.checkScrollDeep),window.addEventListener(E.BEFORE_UNLOAD,(function(){r.isOnUnload=!0,r.config.pageCloseEnabled?r.sendPageClose():r.flush()})),r}return u(o,e),o.prototype.setTMFlag=function(e){this.isTMEnabled=e},o.prototype.sendPageView=function(e){void 0===e&&(e={});var t=M(e);this.isPageViewSent=!1,this.isPageCloseSent=void 0,this.sendCustomPageEvent(c.EActionTypes.PAGE_VIEW_ACTION,t)},o.prototype.sendPageClose=function(e){void 0===e&&(e={});var t=M(e);t.viewTime=Date.now()-this.pageStartTimestamp,t.scrollDepth=this.scrollDepth,this.factory.pageInit&&!this.isPageCloseSent&&(this.isPageCloseSent=!1,this.sendCustomPageEvent(c.EActionTypes.PAGE_CLOSE,t))},o.prototype.sendEvent=function(e,o){void 0===o&&(o={});var r=this.factory.getEventByType(t.EDefaultEvents.EVENT,e);return this.add({key:t.EDefaultEvents.EVENT,data:r},o)},o.prototype.add=function(e,o){var r=this;void 0===o&&(o={});var n=M(e);if(!this.isPageViewSent)return this.store.addHeldEvents(n),!0;var c=Array.isArray(n)?n.map((function(e){return{key:e.key,data:r.factory.enrichEvent(e.data)}})):{key:n.key,data:this.factory.enrichEvent(n.data)};if(!1===this.isPageCloseSent||this.isOnUnload&&void 0===this.isPageCloseSent)return void 0!==this.sendTimerId&&clearTimeout(this.sendTimerId),this.store.addHeldEvents(c),!0;this.store._isFilled()&&this.sendEvents();var i=o.force,s=void 0!==i&&i;return this.store.addHeldEvents(n),this.callHook(t.ETrackerHooks.EVENT_ADD,n).catch(console.error),void 0!==this.sendTimerId&&clearTimeout(this.sendTimerId),s?(this.flush(),!this.store._isFilled()):(this.isTMEnabled||(this.sendTimerId=setTimeout((function(){r.sendEvents()}),this.sendTimeout)),!this.store._isFilled())},o.prototype.flush=function(){return void 0!==this.sendTimerId&&(clearTimeout(this.sendTimerId),this.sendTimerId=void 0),this.sendEvents(),!0},o.prototype.sendEvents=function(){var e=this.store.heldEvents.concat();if(!e.length)return!1;var o=e.map((function(e){var t;return(t={})[e.key]=e.data,t})),r=s.default(this.config.host,g(JSON.stringify(o)));return r&&(this.store.clearHeldEvents(),this.isTMAllowed&&this.store.addSentEvents(e),this.callHook(t.ETrackerHooks.EVENTS_SENT,e).catch(console.error)),!0===this.config.logs.enable&&s.default(this.config.logs.host,g(JSON.stringify(o))),r},o.prototype.sendCustomPageEvent=function(e,o){var r=this;void 0===o&&(o={}),o.actionType=e,o.object=v(v({},o.object),{type:"page"});var n="function"==typeof this.config.eventTemplate?this.config.eventTemplate():{},i=a.default.all([this.config.pageAdditional,n,o]),s=this.factory.getEventByType(t.EDefaultEvents.EVENT,i);s.actionType===c.EActionTypes.PAGE_VIEW_ACTION&&(this.store.heldEvents=this.store.heldEvents.concat().map((function(e){return v(v({},e),{data:r.factory.enrichEvent(e.data)})})),this.store.addHeldEvents({key:t.EDefaultEvents.EVENT,data:s},m.START),this.isPageViewSent=this.sendEvents()),s.actionType===c.EActionTypes.PAGE_CLOSE&&(this.store.addHeldEvents({key:t.EDefaultEvents.EVENT,data:this.factory.enrichEvent(s)}),this.isPageCloseSent=this.sendEvents())},o}(l.HookEmitter),V=function(){function e(){}return e.prototype.createTrackerCore=function(e,t){return"object"==typeof this.core||(this.core=new j(e,t)),this.core},e.prototype.on=function(e,t){return this.core.on(e,t)},e.prototype.once=function(e,t){return this.core.once(e,t)},e.prototype.setTMFlag=function(e){"object"==typeof this.core&&this.core.setTMFlag(e)},e.prototype.flush=function(){"object"==typeof this.core&&this.core.flush()},e.prototype.sendEvents=function(){return"object"==typeof this.core&&this.core.sendEvents()},e}();t.CommonEventModel=k,t.SHOW_MANAGER_COOKIE_NAME="tracker_manager",t.SHOW_METRICS_COOKIE_NAME="tracker_metrics",t.TRACKER_KEY_WITH_PREFIX=_,t.Tracker=j,t.TrackerCoreInitialize=V,t.WINDOW_TRACKER_FIELD="$tracker",t.generateClickHouseUUID=L,t.nanoid=S},54922:function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o("cc71f"),n=["disableProductDetailEvent","disableProductClickEvent","disableAddToCartEvent","disableRemoveFromCartEvent","disableCheckoutStep1Event","disableCheckoutStep2Event","disablePurchaseEvent","disableAddToWishlistEvent","disableRemoveFromWishlistEvent","disableGAPageViewEvent"],c={get:o("21bdb")};function l(e){for(var t={},o=0;o<n.length;o++){var r=n[o];void 0!==e[r]&&(t[r]=e[r])}return t}function d(e){var t="object"==typeof e.composer&&"object"==typeof e.composer.cell?e.composer.cell:{},o={name:t.title||"",id:""+t.id,price:t.finalPrice||t.price,category:t.category,categoryId:t.categoryId,position:t.index,brand:t.brand,list:"object"==typeof e.widget?e.widget.name:"",quantity:t.quantity||1,dimension12:t.sellerId,dimension112:t.stock,dimension132:t.availableInDays,dimension150:t.deliverySchema,dimension145:t.storehouseId};for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&void 0===o[r]&&delete o[r];return o}function i(e,t){var o=c.get(e,t);return o&&JSON.parse(JSON.stringify(o))}var a=function(){function e(){this.eventsCache=[],this.pageInit=!1}return e.prototype.setPageInit=function(e){this.pageInit=e},e.prototype.sendDLPageEvents=function(e,t,o,r){void 0===r&&(r=!1),this.pushPageInit(e,t,o),this.pushGtmStart(),r&&this.pushPageView(),this.pageInit=!0},e.prototype.sendDLWidgetsEvents=function(e){if(this.eventsCache.length)for(var t=0;t<=this.eventsCache.length;t++){var o=this.eventsCache[t];"object"==typeof o&&this.pushEcommerce(o,l(e))}},e.prototype.reinitDataLayer=function(e){this.reinit(e),this.eventsCache=[],this.pageInit=!1},e.prototype.pushEcommerce=function(e,i){if(this.pageInit){var a=this.getDataLayer(),t=function(e,t){void 0===t&&(t={});var i=e.actionType,a=c.get(e,"composer.cell.type","");if(c.get(e,"widget.name","").includes("cart.master")&&i===r.EActionTypes.CART_VIEW&&!t.disableCheckoutStep1Event)return function(e){var t="object"==typeof e.composer&&"object"==typeof e.composer.cell?e.composer.cell:{},o=t.items,r=t.totalCartPrice,i=t.totalCartQuantity,a=t.tabName;return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"checkoutStep1",ecommerce:{checkout:{actionField:{step:1,action:"checkout"},products:(void 0===o?[]:o).map((function(e){return d({composer:{cell:e},widget:{}})}))},ozonEcomm:{totalCartPrice:r,totalCartQuantity:i,tabName:a}}}}(e);if(c.get(e,"widget.name","").includes("checkoutFacade.master")&&i===r.EActionTypes.PRE_ORDER_ACTION&&!t.disableCheckoutStep2Event)return function(e){var t="object"==typeof e.composer&&"object"==typeof e.composer.cell?e.composer.cell:{},o=t.items,r=t.finalPrice,i=t.countItems,a=t.finalDeliveryPrice;return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"checkoutStep2",ecommerce:{checkout:{actionField:{step:2,action:"checkout"},products:(void 0===o?[]:o).map((function(e){return d({composer:{cell:e},widget:{}})}))},ozonEcomm:{totalCartPrice:r,totalCartQuantity:i,shipping:a}}}}(e);if("product"===a){if(i===r.EActionTypes.VIEW_ACTION&&!t.disableProductDetailEvent&&"object"==typeof e.widget&&"pdp-widget"===e.widget.name)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"productDetail",ecommerce:{detail:{products:[d(e)]}}}}(e);if(i===r.EActionTypes.CLICK_ACTION&&!t.disableProductClickEvent)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"productClick",ecommerce:{click:{actionField:{list:"object"==typeof e.widget?e.widget.name:"",action:"click"},products:[d(e)]}}}}(e);if((i===r.EActionTypes.TO_CART_ACTION||i===r.EActionTypes.INCREMENT_ACTION)&&!t.disableAddToCartEvent)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"addToCart",ecommerce:{add:{actionField:{list:"object"==typeof e.widget?e.widget.name:"",action:"add"},products:[d(e)]}}}}(e);if((i===r.EActionTypes.REMOVE_ACTION||i===r.EActionTypes.DECREMENT_ACTION)&&!t.disableRemoveFromCartEvent)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"removeFromCart",ecommerce:{remove:{products:[d(e)]}}}}(e);if(i===r.EActionTypes.FAVORITE_ACTION&&!t.disableAddToWishlistEvent)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"addToWishlist",ecommerce:{add:{actionField:{list:"object"==typeof e.widget?e.widget.name:"",action:"add"},products:[d(e)]}}}}(e);if(i===r.EActionTypes.UNFAVORITE_ACTION&&!t.disableRemoveFromWishlistEvent)return function(e){return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"removeFromWishlist",ecommerce:{remove:{actionField:{list:"object"==typeof e.widget?e.widget.name:"",action:"remove"},products:[d(e)]}}}}(e)}return i!==r.EActionTypes.ORDER_ACTION||t.disablePurchaseEvent?null:function(e){var t="object"==typeof e.composer&&"object"==typeof e.composer.cell?e.composer.cell:{},o=t.items,r=t.paymentType,i=t.deliveryType;return{event:"gaEventTrigger",eventCategory:"ecommerce",eventAction:"purchase",ecommerce:{purchase:{actionField:{id:t.id,revenue:t.finalPrice,coupon:t.promocode,shipping:t.finalDeliveryPrice,action:"purchase"},products:(void 0===o?[]:o).map((function(e){return d({composer:{cell:e},widget:{}})}))},ozonEcomm:{deliveryTypeGroup:i,transactionPayType:r}}}}(e)}(e,l(i));t&&Array.isArray(a)&&a.push(t)}else this.eventsCache.push(e)},e.prototype.getGTMUrl=function(e){return"https://www.googletagmanager.com/gtm.js?id="+e},e.prototype.reinit=function(e){var t=this.getGTMDataLayer();"object"==typeof t&&"object"==typeof t[e]&&("function"==typeof t[e].dataLayer.reset&&t[e].dataLayer.reset(),this.clear())},e.prototype.pushPageInit=function(e,t,o){var r=this.getDataLayer();Array.isArray(r)&&r.push(function(e,t,o){var r=i(e,"layoutTrackingInfo"),a=c.get(e,"browser.isDesktop")||!1,n=function(e){return{abGroup:c.get(e,"experiments.abGroup")||-1,areaId:c.get(e,"location.current.areaId")||-1,geoCoordinate:i(e,"location.current.geoCoordinate")||{},ip:c.get(e,"browser.ip")||""}}(e),s={currentPageUrl:t,previousPageUrl:o},u=function(e){var t=c.get(e,"shared.catalog.correctedText")||null,o=c.get(e,"shared.catalog.currentText")||null,r=t||o||null,i=c.get(e,"shared.catalog.totalFound")||0;return{searchText:r,searchResult:"number"==typeof i?i:null}}(e),p=function(e){var t=function(e){var t=c.get(e,"userInfo.user.isEmployee")||!1,o=c.get(e,"userInfo.user.userType")||1;return t?"employee":2===o?"legal":"physical"}(e);return{clientType:t,email:c.get(e,"userInfo.user.email")||"",gender:c.get(e,"userInfo.user.sex")||-1,id:c.get(e,"userInfo.user.userId")||0,isPremium:7===c.get(e,"userInfo.user.loyaltyStatus.id",0),isBot:c.get(e,"browser.isBot")||!1,experimentsIds:c.get(e,"experiments.ids")||""}}(e);return{layoutTrackingInfo:r,location:n,page:s,search:u,user:p,website:{type:a},namespace:"bx"}}(e,t,o))},e.prototype.pushPageView=function(e){void 0===e&&(e=!1);var t=this.getDataLayer();Array.isArray(t)&&!e&&t.push({event:r.EActionTypes.PAGE_VIEW_ACTION})},e.prototype.pushGtmStart=function(e){void 0===e&&(e=!1);var t=this.getDataLayer(),o={"gtm.star":Date.now(),event:"gtm.js"};Array.isArray(t)&&!e&&t.push(o)},e.prototype.getDataLayer=function(){return"undefined"==typeof window?[]:("undefined"==typeof window||Array.isArray(window.dataLayer)||(window.dataLayer=[]),window.dataLayer)},e.prototype.getGTMDataLayer=function(){return"undefined"!=typeof window&&"object"==typeof window.google_tag_manager?window.google_tag_manager:{}},e.prototype.clear=function(){var e=this.getDataLayer();Array.isArray(e)&&e.length&&e.splice(0,e.length)},e}();t.DataLayer=a,t.allowedEcommerceFlags=n},"2757d":function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TM_LOCAL_HOST="http://localhost:5192",t.TM_NEED_LOCALHOST_COOKIE_NAME="tm_local",t.loadTrackerManagerScript=function(e,t){var o=document.createElement("script"),r=document.getElementsByTagName("script")[0];o.async=!0,o.src=e+"/s3/oztm/2.1.6/manager.js",void 0!==t&&o.setAttribute("nonce",t),r.parentNode&&r.parentNode.insertBefore(o,r);var a=setInterval((function(){if(window.$trackerManager&&"function"==typeof window.$trackerManager){var e=window.$trackerManager,t=document.createElement("div");t.setAttribute("id","tracker-manager"),t.style.cssText="position: sticky; top: 0; z-index: 9999;";var o=document.querySelector("#__ozon");document.body.insertBefore(t,o),new e({target:t}),clearInterval(a)}}),1e3)}},bd7eb:function(e,t,o){"use strict";var r=o("f9266"),n=o("2757d"),c=o("54922"),l=o("cc71f"),d=function(e,t){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])},d(e,t)};function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function o(){this.constructor=e}d(e,t),e.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}var s,h=function(){return h=Object.assign||function(e){for(var t,o=arguments,r=1,n=arguments.length;r<n;r++)for(var i in t=o[r])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},h.apply(this,arguments)},a=function(e){function t(t,o){return e.call(this,t,o)||this}return i(t,e),t.prototype.setEventAttributes=function(e){return void 0===e&&(e={}),e.userAgent=void 0!==e.userAgent?e.userAgent:navigator.userAgent,e.platform=void 0!==e.platform?e.platform:this.options.platform,e.screenResolutionX=void 0!==e.screenResolutionX?e.screenResolutionX:screen.width,e.screenResolutionY=void 0!==e.screenResolutionY?e.screenResolutionY:screen.height,e},t}(r.CommonEventModel),p=function(e){function t(t,o){return e.call(this,t,o)||this}return i(t,e),t.prototype.setEventAttributes=function(e){return void 0===e&&(e={}),e.screenResolutionX=void 0!==e.screenResolutionX?e.screenResolutionX:screen.width,e.screenResolutionY=void 0!==e.screenResolutionY?e.screenResolutionY:screen.height,e},t}(r.CommonEventModel);!function(e){e.COMPOSER_EVENT="composerEvent",e.TRINITY_EVENT="trinityEvent"}(s||(s={}));var E={name:s.COMPOSER_EVENT,constructor:a},u={name:s.TRINITY_EVENT,constructor:p},f={get:o("21bdb")},v=function(e){return{page:h({layoutId:e.layoutId,layoutVersion:e.layoutVersion,ruleId:e.ruleId,categoryId:e.categoryId,tagId:e.tagId,sku:e.sku,highlightId:e.highlightId,sellerId:e.sellerId,brandId:e.brandId},e.highlightIsExpress?{highlightIsExpress:e.highlightIsExpress}:{})}},g=function(e){var t=T(e,"layoutTrackingInfo")||{};return{attributes:{deviceType:t.deviceType,platform:t.platform,templateType:t.templateType},user:{isBot:f.get(e,"browser.isBot")||!1,marketplaceId:t.marketplaceId}}},y=function(e,t){void 0===t&&(t={});var o=m(t.custom);return h(h({},t),{attributes:h(h({},t.attributes),g(e).attributes),pageToken:e.pageToken,userToken:e.userToken,custom:o})},_=function(e,t){void 0===t&&(t={});var o=T(e,"layoutTrackingInfo")||{},r="string"==typeof t.widget?JSON.parse(t.widget):t.widget,n="object"==typeof t.composer?"string"==typeof t.composer.slice?JSON.parse(t.composer.slice):t.composer.slice:void 0,i="object"==typeof t.composer?"string"==typeof t.composer.cell?JSON.parse(t.composer.cell):t.composer.cell:void 0,s="object"==typeof t.composer?m(t.composer.custom):void 0,a={};return"object"==typeof n&&(a.slice=n),"object"==typeof i&&(a.cell=i),"object"==typeof s&&(a.custom=s),h(h(h(h({},t),{attributes:h(h({},t.attributes),g(e).attributes),user:h(h({},t.user),g(e).user)}),v(o)),{widget:r,composer:a})},m=function(e){return"boolean"==typeof e?{}:"object"==typeof e?e:void 0};function T(e,t){var o=f.get(e,t);return o&&JSON.parse(JSON.stringify(o))}var C=function(){function e(){this.data={}}return e.prototype.setData=function(e){this.data=Object.assign({},e)},e.prototype.getData=function(){return this.data},e}(),A=function(){function e(e){this.tracker=e}return e.prototype.send=function(e,t){this.tracker.sendComposerEvent({actionType:e,widget:t.widget,composer:{cell:t.cell,slice:t.slice,custom:t.custom}})},e}(),O=function(){function e(e){this.trackingPayloads={},this.tracker=e}return e.prototype.setTrackingPayloads=function(e){this.trackingPayloads=e},e.prototype.send=function(e,t,o){var r=this;if(void 0===o&&(o={}),"object"!=typeof t||null===t)return!1;var n=t.key,i=t.actionType,s=t.nested,a=void 0===s?[]:s,p={},c=t.sliceKey,u=h(h({actionType:i},e),{custom:o});n&&(u.cellToken=n),"string"==typeof c&&c&&(u.sliceToken=c),p.trinityEvent=u;var l=e.widgetToken,d=this.composePayloadBySeparateKeys(t,l),g=h(h({},d),{custom:o});g.widget||(g.widget=this.getPayloadByKey(l)),p.composerEvent={actionType:i,widget:g.widget,composer:{cell:g.cell,slice:g.slice,custom:g.custom}};var E=this.tracker.sendTrinityAndComposerEvents(p);return Array.isArray(a)&&a.length&&a.forEach((function(t){return r.send(e,t,{})})),E},e.prototype.composePayloadBySeparateKeys=function(e,t){var o=e.sliceKey;return{cell:this.getPayloadByKey(e.key),slice:this.getPayloadByKey(o),widget:this.getPayloadByKey(t)}},e.prototype.getPayloadByKey=function(e){if("string"!=typeof e||e&&!this.trackingPayloads[e])return{};try{return JSON.parse(this.trackingPayloads[e])}catch(e){return{}}},e}(),I=function(e){function t(t,o){var r=e.call(this)||this;return r.version="2.1.7",r.pageStatisticsTrackerMetrics="",r.stateMemory=new C,r.dataLayer=new c.DataLayer,r.legacyAnalyticsService=new A(r),r.legacyAnalyticsByKeyService=new O(r),"object"!=typeof window||(r.stateMemory.setData(o),r.init(t)),r}return i(t,e),t.prototype.init=function(e){var t=this.stateMemory.getData(),o=this.createTrackerCore(h(h({},e),{eventTemplate:function(){return h(h({},g(t)),{page:h({current:t.layoutTrackingInfo.pageType,title:document.title},v(t.layoutTrackingInfo).page)})},version:this.version}),[E,u]);return"object"!=typeof window||r.WINDOW_TRACKER_FIELD in window||(window[r.WINDOW_TRACKER_FIELD]=this),"object"==typeof o.config.manager&&o.config.manager.enable&&n.loadTrackerManagerScript(o.config.manager.host,o.config.cspNonce),o.config.pageViewEnabled&&this.sendPageView(),this},t.prototype.setPageStatisticsTrackerMetrics=function(e){this.pageStatisticsTrackerMetrics=e},Object.defineProperty(t.prototype,"pageViewId",{get:function(){return this.getPageViewId()},enumerable:!1,configurable:!0}),t.prototype.getPageViewId=function(){if("object"==typeof this.core)return this.core.factory.pageViewId},t.prototype.sendPageView=function(e){if(void 0===e&&(e={}),"object"==typeof this.core){var t=this.stateMemory.getData();this.core.sendPageView(h(h({},e),{page:h({current:t.layoutTrackingInfo.pageType,currentUrl:"object"==typeof e.page?e.page.currentUrl:void 0},v(t.layoutTrackingInfo).page)}))}},t.prototype.sendPageClose=function(e){void 0===e&&(e={}),"object"==typeof this.core&&this.core.sendPageClose(e)},t.prototype.sendDLPageEvents=function(e,t,o,r){void 0===r&&(r=!1),"object"==typeof this.dataLayer&&this.dataLayer.sendDLPageEvents(e,t,o,r)},t.prototype.sendDLWidgetsEvents=function(e){"object"==typeof this.dataLayer&&this.dataLayer.sendDLWidgetsEvents(e)},t.prototype.reinitDataLayer=function(e){"object"==typeof this.dataLayer&&this.dataLayer.reinitDataLayer(e)},t.prototype.setPageInit=function(e){"object"==typeof this.dataLayer&&this.dataLayer.setPageInit(e)},t.prototype.send=function(e,t,o){return void 0===o&&(o={}),"object"==typeof t.composerEvent&&"object"==typeof t.trinityEvent?(t.composerEvent.actionType=e,t.trinityEvent.actionType=e,this.sendTrinityAndComposerEvents(t,o)):"object"==typeof t.composerEvent?(t.composerEvent.actionType=e,this.sendComposerEvent(t.composerEvent,o)):"object"==typeof t.trinityEvent&&(t.trinityEvent.actionType=e,this.sendTrinityEvent(t.trinityEvent,o))},t.prototype.sendComposerEvent=function(e,t){if(void 0===t&&(t={}),"object"==typeof this.core){var o=this.stateMemory.getData(),r=_(o,e),n=this.core.factory.getEventByType(s.COMPOSER_EVENT,r),i=this.core.add({key:s.COMPOSER_EVENT,data:n},t);return this.dataLayer.pushEcommerce(n,o.experimentsConfig),i}return!1},t.prototype.sendTrinityEvent=function(e,t){if(void 0===t&&(t={}),"object"==typeof this.core){var o=y(this.stateMemory.getData(),e),r=this.core.factory.getEventByType(s.TRINITY_EVENT,o);return this.core.add({key:s.TRINITY_EVENT,data:r},t)}return!1},t.prototype.sendEvent=function(e,t){return void 0===t&&(t={}),"object"==typeof this.core&&this.core.sendEvent(e,t)},t.prototype.sendTrinityAndComposerEvents=function(e,t){if(void 0===t&&(t={}),"object"==typeof this.core){var o=this.stateMemory.getData(),n=r.generateClickHouseUUID(),i=Object.assign({},{trinityEvent:h(h({},y(o,e.trinityEvent)),{uuid:n}),composerEvent:h(h({},_(o,e.composerEvent)),{uuid:n})}),a=this.core.factory.getEventByType(s.COMPOSER_EVENT,i.composerEvent),p=this.core.factory.getEventByType(s.TRINITY_EVENT,i.trinityEvent);return this.dataLayer.pushEcommerce(a,o.experimentsConfig),this.core.add([{key:s.COMPOSER_EVENT,data:a},{key:s.TRINITY_EVENT,data:p}],t)}return!1},t}(r.TrackerCoreInitialize);Object.defineProperty(t,"e7",{enumerable:!0,get:function(){return r.SHOW_MANAGER_COOKIE_NAME}}),Object.defineProperty(t,"Oy",{enumerable:!0,get:function(){return r.SHOW_METRICS_COOKIE_NAME}}),Object.defineProperty(t,"W5",{enumerable:!0,get:function(){return r.TRACKER_KEY_WITH_PREFIX}}),Object.defineProperty(t,"Jz",{enumerable:!0,get:function(){return n.TM_LOCAL_HOST}}),Object.defineProperty(t,"QX",{enumerable:!0,get:function(){return n.TM_NEED_LOCALHOST_COOKIE_NAME}}),Object.defineProperty(t,"rr",{enumerable:!0,get:function(){return l.EActionTypes}}),t.fs=I},cc71f:function(e,t){"use strict";var o,r;Object.defineProperty(t,"__esModule",{value:!0}),(o=t.EActionTypes||(t.EActionTypes={})).PAGE_VIEW_ACTION="page_view",o.VIEW_ACTION="view",o.SHOW_ACTION="show",o.CLOSE_ACTION="close",o.ADD_ACTION="add",o.CLEAR_ACTION="clear",o.SCREEN_CLICK="screen_click",o.DECREMENT_ACTION="decrement",o.INCREMENT_ACTION="increment",o.DISLIKE_ACTION="dislike",o.LIKE_ACTION="like",o.SET_ACTION="set",o.UNSET_ACTION="unset",o.CLICK_ACTION="click",o.SELECT_ACTION="select",o.UNSELECT_ACTION="unselect",o.REGION_SET_ACTION="region_set",o.WIDGET_VIEW_ACTION="widget_view",o.EXIT_LINK_ACTION="exit_link",o.SHARE_ACTION="share",o.SAVE_ACTION="save",o.RESTORE_ACTION="restore",o.RETURN_ACTION="return",o.BACK_ACTION="back",o.SEND="send",o.UNLOAD="unload",o.SUBMIT="submit",o.DELETE="delete",o.EDIT="edit",o.CLICK_CLUSTER="click_cluster",o.GO_TO_PAYMENT="go_to_payment",o.CLICK_CANCEL="click_cancel",o.CLICK_RETURN_ITEMS="click_return_items",o.CLICK_DELIVERY_TIME="click_delivery_time",o.PAGE_CLOSE="page_close",o.CLICK_EXTEND_DELIVERY="click_extend_delivery",o.EXTEND_DELIVERY="extend_delivery",o.CHANGE_PAYMENT_TYPE="change_payment_type",o.CLICK_RECEIVER="click_receiver",o.CHANGE_RECEIVER="change_receiver",o.CLICK_NEW_CARD="click_new_card",o.PAGE_SCROLL="page_scroll",o.CLICK_LEAVE_AT_DOOR="click_leave_at_door",o.LEAVE_AT_DOOR="leave_at_door",o.DOWNLOAD_ACTIVATION_CODE="download_activation_code",o.SWITCH_TALK_TYPE="switch_talk_type",o.GROUP_IN_CART="group_in_cart",o.CART_VIEW="cart_view",o.TO_CART_ACTION="to_cart",o.TO_CART_ALL_ACTION="to_cart_all",o.REMOVE_ACTION="remove",o.REMOVE_ALL_ACTION="remove_all",o.AVAIL_ON_ACTION="avail_on",o.AVAIL_OFF_ACTION="avail_off",o.FAVORITE_ACTION="favorite",o.UNFAVORITE_ACTION="unfavorite",o.COMPARE_ACTION="compare",o.UNCOMPARE_ACTION="uncompare",o.PRICE_SUBSCRIBE_ACTION="subscribe_price",o.PRICE_UNSUBSCRIBE_ACTION="unsubscribe_price",o.SUBSCRIBE_ACTION="subscribe",o.SUBSCRIPTION_PRODUCT_ACTION="subscription_product",o.UNSUBSCRIBE_ACTION="unsubscribe",o.VOTE="vote",o.SPLIT_IN_PRE_ORDER="split_in_pre_order",o.FULL_VIEW_ACTION="full_view",o.PRE_ORDER_ACTION="pre_order",o.RE_ORDER_ACTION="re_order",o.CANCEL_ACTION="cancel",o.CANCEL_CONFIRM_ACTION="cancel_confirm",o.ORDER_PREMIUM_ACTION="order_premium",o.TO_CHECKOUT_ACTION="to_checkout",o.TO_CREDIT_CHECKOUT_ACTION="to_credit_checkout",o.ORDER_ACTION="order",o.BACK_TO_CART_ACTION="back_to_cart",o.ADD_ADDRESS="add_address",o.BUTTON_CLICK_ADDRESS_CHANGE_ACTION="button_click_address_change",o.CHANGE_DELIVERY_SERVICE_ACTION="change_delivery_service",o.CHANGE_SAFE_ADDRESS_ACTION="change_safe_address",o.SELECT_DELIVERY_ACTION="select_delivery",o.CHANGE_DUE_ACTION="change_due",o.CHANGE_TIME_SLOT_ACTION="change_time_slot",o.PROMOCODE_ACTIVATION_ACTION="promocode_activation",o.ADDRESS_IN_ADDRESSBOOK="address_in_addressbook",o.SELECT_ADDRESS_ACTION="select_address",o.MAP_VIEW="map_view",o.COURIER_MAP_VIEW_ACTION="courier_map_view",o.SUGGEST_REGION_ACTION="suggest_region",o.SUGGEST_COUNTRY_ACTION="suggest_country",o.SUGGEST_ADDRESS_ACTION="suggest_address",o.MAP_ADDRESS_ACTION="map_address",o.MAP_REGION_ACTION="map_region",o.REVERSE_GEOCODE_FAIL_ACTION="reverse_geocode_fail",o.CLICK_ALL_PAYMENT_ACTION="click_on_all_payment",o.PAYMENT_SUCCESS_ACTION="payment_success",o.SEARCH_ACTION="search",o.SEARCH_HELPER_ACTION="search_helper",o.CHOOSE_DEPARTAMENT_ACTION="choose_department",o.LOGIN_ACTION="login",o.LOGOUT_ACTION="logout",o.REGISTRATION_ACTION="registration",o.PHONE_CHANGE_ACTION="phone_change",o.EMAIL_CHANGE_ACTION="email_change",o.LOGIN_CHANGE_ACTION="login_change",o.PASSWORD_CHANGE_ACTION="password_change",o.REPORT_ACTION="report",o.CARD_ORDER_CLICK_ACTION="card_order_button_click",o.CARD_NEXT_BUTTON_CLICK_ACTION="next_button_click",o.CARD_NAVI_CLICK_ACTION="navigation_click",o.CARD_TERMS_CLICK_ACTION="terms_of_use_link_click",o.CARD_DONE_BUTTON_CLICK_ACTION="done_button_click",o.IMPRESSION_ACTION="impression",o.OPEN="open",o.CHAT_OPEN="open",o.DIALOG_LIST="dialog_list",o.VIDEO_VIEW="video_view",o.VIDEO_VIEW_FINISH="video_view_finish",o.VIDEO_REWIND="video_rewind",o.COVER_PREVIEW_OPEN="cover_preview_open",o.COVER_VIEW_START="cover_view_start",o.COVER_VIEW_END="cover_view_end",o.VIDEO_PREVIEW_OPEN="video_preview_open",o.VIDEO_VIEW_START="video_view_start",o.VIDEO_VIEW_END="video_view_end",(r=t.EPlatform||(t.EPlatform={})).SITE="site",r.MOBILE_SITE="mobile_site"},88568:function(e,t,o){var r=o("066fb"),n=o("affab");void 0===n.window&&(n.window={}),void 0===n.window.__federation__&&(n.window.__federation__={}),void 0===n.window.__federation__.deps&&(n.window.__federation__.deps={}),void 0===n.window.__federation__.deps.BxFeRouter&&(n.window.__federation__.deps.BxFeRouter=r),e.exports=r}}]);