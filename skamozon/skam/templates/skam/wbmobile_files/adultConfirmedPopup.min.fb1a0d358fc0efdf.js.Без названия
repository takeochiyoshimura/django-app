(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";!function(){var t=function(){function t(){this.onlyAdultClass="for-adults",this.requestUrl="/webapi/product/confirmadult",this.queue=[]}var n=t.prototype;return n.proceedIfAdultConfirmed=function(t,n){for(var e=this,o=arguments.length,u=new Array(o>2?o-2:0),r=2;r<o;r++)u[r-2]=arguments[r];return this._showConfirmPopup().then(function(t){return e._sendConfirmWbaEvent(t),t?e._updateAdultConfirmStatus():Promise.resolve(!1)}).then(function(e){return e&&(null==t||t.apply(n,u)),Promise.resolve(e)})},n.pushToQueue=function(t){this.queue.push(t)},n.closePopup=function(){var t;null===(t=this.popup)||void 0===t||t.close(),this.popup=null},n._showConfirmPopup=function(){var t=this;return this._sendShowWbaEvent(),new Promise(function(n){$.views.loadTemplateAsync("confirmadultpopup").then(function(e){t.popup=wb.popup.showCustomPopup({useHtml:!0,popupClassesList:["popup-confirm-age","shown"],contentClasses:["popup__content"],useCenteredFunction:!0,onShow:function(o){e.link(o.querySelector(".popup__content"),{confirm:function(){n(!0),t.popup.close(),t.popup=null},decline:function(){n(!1),t.popup.close(),t.popup=null}})},onHide:function(){n(!1),t.popup=null}})})})},n._updateAdultConfirmStatus=function(){var t=this;return this.$httpClient.fetchJSON(this.requestUrl,{method:"POST"}).then(function(n){return t._onAdultConfirmed(),Promise.resolve(!0)}).catch(function(t){return console.error(t.message),Promise.resolve(!1)})},n._onAdultConfirmed=function(){var t=this;document.getElementsByClassName(this.onlyAdultClass).forEach(function(n){return n.classList.remove(t.onlyAdultClass)}),this.queue.forEach(function(t){return t()})},n._sendShowWbaEvent=function(){this._checkRoute()&&this.$analitic.sendEvent("Alert_Adult_Confirmation_S")},n._sendConfirmWbaEvent=function(t){this._checkRoute()&&this.$analitic.sendEvent(t?"Alert_Adult_Confirmation_Yes":"Alert_Adult_Confirmation_No")},n._checkRoute=function(){switch(this.$router.currentRoute.name){case"SpaCatalogEntrypoint":case"SpaBrandsEntrypoint":case"SpaPromotionCatalogEntrypoint":case"SpaRecentCatalogEntrypoint":case"SpaRecommendationsCatalogEntrypoint":case"SpaRecommendationsSearchCatalogEntrypoint":case"SpaSearchByImageEntrypoint":case"SpaSearchEntrypoint":case"SpaSellerCatalogEntrypoint":case"SpaTecDocEntrypoint":case"SpaVideoReviewEntrypoint":return!0;default:return!1}},t}();window.__spaModuleManager__.register("adultConfirmedPopup",t)}();

},{}]},{},[1]);
