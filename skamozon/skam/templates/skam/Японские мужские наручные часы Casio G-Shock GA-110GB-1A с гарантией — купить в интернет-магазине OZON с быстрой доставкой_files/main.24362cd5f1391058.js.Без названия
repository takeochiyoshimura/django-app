"use strict";(self.webpackChunk_ozon_ozon_ru=self.webpackChunk_ozon_ozon_ru||[]).push([["main"],{"75d4a":function(e,t,r){r.d(t,{t:function(){return n}});var n={stateId:{type:String,default:""},vertical:{type:String,required:!0},componentName:{type:String,required:!0},version:{type:Number,default:null},root:{type:Boolean,default:!1},placeholders:{type:Array,default:function(){return[]}},trackingInfoProp:{type:[Object,String],default:function(){return{}}},widgetInitialState:{type:Object,default:function(){return{}}},widgetToken:{type:String,default:void 0}}},"2b931":function(e,t,r){r.r(t),r.d(t,{default:function(){return G}});var n=r("a85f8"),o=r.n(n),c=r("98bae"),l=r("49886"),d=r("21bdb"),f=r.n(d),h=r("08986"),y=r("75f7f"),v=r("df800"),_=r("e078b"),m=r("75d4a"),w=r("ac1d9"),S={name:"InViewportMixin",created:function(){this.widgetInViewport=!1,this.viewportEvents=[]},mounted:function(){var e=this;this.intersectionObserver=new IntersectionObserver((function(t){var r=t[0];if(!r)return!1;e.viewportEvents=e.viewportEvents.filter((function(e){return e.params.sendAlways?(e.callback(r.isIntersecting),!0):!r.isIntersecting||(e.callback(!0),!(e.params.once&&!e.params.store))}))})),this.reloadObserverSubscription=y.registry.use(_.ComposerActions).listen("GET_LAYOUT",(function(){e._reloadObserver()})),this.registerViewportEvent((function(t){e.widgetInViewport=t}),{sendAlways:!0}),this._bindViewportEvents()},beforeDestroy:function(){this._unbindViewportEvents(),this.reloadObserverSubscription&&this.reloadObserverSubscription.unsubscribe()},methods:{registerViewportEvent:function(e,t){void 0===t&&(t={});var r=function(e,t){return void 0===t&&(t={}),{params:t,callback:e,viewed:!1}}(e,t);return this.viewportEvents.push(r),r},_reloadObserver:function(){var e=this;this.$nextTick((function(){e.$el instanceof HTMLElement&&(e.intersectionObserver.unobserve(e.$el),e.intersectionObserver.observe(e.$el))}))},_bindViewportEvents:function(){this.$el instanceof HTMLElement&&this.intersectionObserver.observe(this.$el)},_unbindViewportEvents:function(){this.intersectionObserver.disconnect()}}},E=r("b491a"),T=r("20f02"),I=r("5665c"),k=r("03a25"),N=r("9f78d"),O=r("9e5e3"),P={data:function(){return{hooks:{}}},methods:{hook:function(e,t,r){void 0===r&&(r={}),this.hooks[e]=this.hooks[e]||[],this.hooks[e].push({callback:t,params:r})},callHook:function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];return(0,c.__awaiter)(this,void 0,void 0,(function(){var r,n;return(0,c.__generator)(this,(function(o){switch(o.label){case 0:if(!this.hooks[e])return[3,4];r=0,o.label=1;case 1:return r<this.hooks[e].length?[4,(n=this.hooks[e][r]).callback.apply(this,t)]:[3,4];case 2:o.sent(),n.params.once&&(this.hooks[e].splice(r,1),r--),o.label=3;case 3:return r++,[3,1];case 4:return[2]}}))}))}},beforeDestroy:function(){this.hooks=[]}},A={mixins:[P,S],data:function(){return{isAsyncLoading:!1,isAsyncLoaded:!1,isAsyncDelay:!1,isAsyncFailed:!1,asyncLoadEvent:null}},props:{asyncType:{type:String,validator:function(e){return N.l.indexOf(e)>=0||void 0===e}},asyncHash:{type:String,default:""}},computed:{showAsyncLoader:function(){return this.asyncType&&!this.isAsyncLoaded}},created:function(){if(this.asyncType&&!this.asyncHash){var e=new T.WidgetError(E._.WIDGET_ASYNC_WITHOUT_HASH);return this.$logger.error(e),!1}this._tryToRegisterViewEvent()},mounted:function(){return(0,c.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,c.__generator)(this,(function(t){switch(t.label){case 0:return this.checkWidgetStateSubscription=y.registry.use(_.ComposerActions).listen(["GET_LAYOUT","SET_COMPOSER_LAYOUT"],(function(){e.checkWidgetState()})),[4,this._tryToLoadOnMount()];case 1:return t.sent(),[2]}}))}))},beforeDestroy:function(){this.checkWidgetStateSubscription&&this.checkWidgetStateSubscription.unsubscribe()},methods:{preventAsyncFetch:function(){this.isAsyncDelay=!0},checkWidgetState:function(){return(0,c.__awaiter)(this,void 0,void 0,(function(){var e=this;return(0,c.__generator)(this,(function(t){return this.$nextTick((function(){return(0,c.__awaiter)(e,void 0,void 0,(function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return this.widgetState&&Object.keys(this.widgetState).length?[2]:this.isAsyncLoaded||this.isAsyncLoading?(this.isAsyncLoaded=this.isAsyncLoading=!1,this._tryToRegisterViewEvent(),[4,this._tryToLoadOnMount()]):[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))})),[2]}))}))},fetchAsyncState:function(e,t){return void 0===e&&(e=void 0),void 0===t&&(t=void 0),(0,c.__awaiter)(this,void 0,Promise,(function(){var r,n,o,l,d,f,h,y;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:r=this._getAsyncWidgetApi(),o=(n=this).asyncHash,l=n.componentName,d={asyncHash:o,componentName:l},void 0!==e&&(d.extraBody=e),void 0!==t&&(d.url=t),this.isAsyncLoading=!0,c.label=1;case 1:return c.trys.push([1,4,,5]),[4,r(d)];case 2:return f=c.sent(),[4,this._replaceAsyncState(f,e)];case 3:return c.sent(),[3,5];case 4:throw h=c.sent(),"acyncFailedHandler"in this&&this.acyncFailedHandler(h,t),this.isAsyncLoading=!1,this.isAsyncLoaded=!1,this.isAsyncFailed=!0,(y=new T.WidgetError(E.nd.FETCH_ASYNC_WIDGET_STATE_ERROR)).setPayloadValue("response",h.response),y;case 5:return this.isAsyncLoading=!1,this.isAsyncLoaded=!0,this.isAsyncFailed=!1,this.callHook("async::loaded"),this.$emit("state::loaded"),[2]}}))}))},_replaceAsyncState:function(e,t){return void 0===t&&(t=void 0),(0,c.__awaiter)(this,void 0,Promise,(function(){var r,n,o,l,d,f,h;return(0,c.__generator)(this,(function(c){switch(c.label){case 0:return e.isSkip?[4,this.destroyWidget()]:[3,2];case 1:c.sent(),c.label=2;case 2:if(n=(r=this).asyncWidgetMapper,o=r.asyncSharedMapper,l=r.vertical,!e||"object"!=typeof e)throw new I.LoggerError(E._.WIDGET_ASYNC_EMPTY_RESPONSE);return d=e.state,f=e.verticalShared,h=e.trackingPayloads,d&&Object.keys(d).length&&(n&&"function"==typeof n&&(d=n(d,t)),this.setWidgetState(d)),f&&Object.keys(f).length&&(o&&"function"==typeof o&&(f=o(f)),y.registry.use(_.ComposerActions).replaceSharedStore({vertical:l,verticalShared:f})),h&&Object.keys(h).length?[4,(0,O.l)(this).setTrackingPayloads(h)]:[3,4];case 3:c.sent(),c.label=4;case 4:return[2]}}))}))},_getAsyncWidgetApi:function(){var e=y.registry.use(k.ComposerService);return e.widget.bind(e)},_tryToLoadOnMount:function(){return(0,c.__awaiter)(this,void 0,Promise,(function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return this._isAsyncByType(N.m.TYPE_ON_PAGE_LOAD)?[4,this.fetchAsyncState()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))},_tryToRegisterViewEvent:function(){this._isAsyncByType(N.m.TYPE_ON_VIEWPORT)&&this.registerViewportEvent(this.fetchAsyncState,{once:!0})},_isAsyncByType:function(e){return this.asyncType===e&&this.asyncHash&&!this.isAsyncDelay}}},x=r("bd7eb"),C=r("8af14"),L=r("98f4c"),R=r("83e07"),$=r("e0cd9"),j=r("d5b77"),M={mixins:[A,S,(0,O.Q)({pageToken:function(e){return e._get("pageToken","")},userToken:function(e){return e._get("userToken","")},noTracking:function(e){return e._get("experimentsConfig.noTracking",!1)},enableInfoLogs:function(e){return e._get("experimentsConfig.enableTrackerInfoLogs",!1)}})],provide:function(){return{sendAEventInjection:this.sendAEvent,getWidgetTokenInjection:this.getWidgetToken,trackerSend:this.trackerSend}},props:{trackingInfoProp:{type:[Object,String],default:function(){return{}}},trackingOn:{type:Boolean,default:!1},root:{type:Boolean,default:!1},widgetsStatisticsTrackerMetrics:{type:[Object,String],default:function(){return{}}}},computed:{trackingInfo:function(){return"string"==typeof this.trackingInfoProp?JSON.parse(this.trackingInfoProp):this.trackingInfoProp}},mounted:function(){var e=(0,O.l)(this),t=(e.state._get("o3Params.x-o3-tracker-manager")||"on"===(0,j.ej)("tracker_manager"))&&this.$el instanceof HTMLElement,r=(e.state._get("o3Params.x-o3-tracker-metrics")||"on"===(0,j.ej)("tracker_metrics"))&&this.$el instanceof HTMLElement,n=f()(this,"trackingInfo.id");if(t&&n&&(this.$el.dataset.trackWidgetName=f()(this,"trackingInfo.name"),this.$el.dataset.version=f()(this,"version"),this.$el.dataset.vertical=f()(this,"vertical"),this.$el.dataset.widgetName=f()(this,"componentName"),this.$el.dataset.widgetId=n,this.$el.dataset.pageType=e.state._get("pageInfo.pageType")),r&&t&&n&&(this.$el.dataset.widgetsStatisticsTrackerMetrics=f()(this,"widgetsStatisticsTrackerMetrics")),this.trackingOn)return null==this.asyncType?this._registerSendViewEvent():void this.hook("async::loaded",this._delayRegisterViewEvent,{once:!0})},methods:{getWidgetToken:function(){return this.widgetToken},trackerSend:function(e,t,r){if(this.noTracking)return!1;if(!(0,C.OC)(e)&&!(0,C.B_)(e))return this._logTrackerError($.s.ERROR_WHILE_USING_TRACKER_SEND),!1;if(this.enableInfoLogs&&this.stateId&&!this.trackingOn&&this._logTrackerInfo($.s.WIDGET_IS_MISSING_TRACKING_FLAG),(0,C.B_)(e)){var n=(0,L.HD)(e.key)&&(0,O.l)(this).state._get("trackingPayloads["+e.key+"]"),o=(0,L.HD)(e.sliceKey)&&(0,O.l)(this).state._get("trackingPayloads["+e.sliceKey+"]"),c=(0,C.KU)(t)?t:{};return n||o?(this.sendAEvent(e,c),!0):this._sendTrinityWithTrackingInfo(e,c,r)}var l=this._appendWidgetTokenInTrinity((0,C.mW)(t)?Object.assign({},t):{trinityEvent:{}});return(0,R.Kn)(l.composerEvent)&&((0,R.Kn)(this.trackingInfo)&&(this.trackingInfo.name||this.trackingInfo.id)?l.composerEvent=Object.assign({},l.composerEvent,{widget:this.trackingInfo}):delete l.composerEvent),(0,R.Kn)(l.trinityEvent)||(0,R.Kn)(l.composerEvent)?this.$tracker.send(e,l,r):(this._logTrackerError($.s.ERROR_WHILE_SENDING_EVENT),!1)},_sendTrinityWithTrackingInfo:function(e,t,r){if(this.noTracking)return!1;var n=this._generateTrinityContract(e,t),o=e.actionType,c=e.nested,l=void 0===c?[]:c;if((0,R.Kn)(n.trinityEvent)){if(this.$tracker.send(o,n,r),l&&Array.isArray(l)&&l.length)for(var i=0;i<l.length;i++)this._sendTrinityWithTrackingInfo(l[i],t,r);return!0}return!1},_generateTrinityContract:function(e,t){return this._appendWidgetTokenInTrinity((0,C.NR)(e,t))},_appendWidgetTokenInTrinity:function(e){return(0,R.Kn)(e.trinityEvent)&&((0,L.HD)(this.widgetToken)&&this.widgetToken?e.trinityEvent=Object.assign({},e.trinityEvent,{widgetToken:this.widgetToken}):this._logTrackerError($.s.WIDGET_NOT_FOUND_TRACKER_TOKEN)),e},sendAEvent:function(e,t){if(this.noTracking)return!1;this.enableInfoLogs&&this.stateId&&!this.trackingOn&&this._logTrackerInfo($.s.WIDGET_IS_MISSING_TRACKING_FLAG);var r={widgetToken:this.widgetToken,pageToken:this.pageToken,userToken:this.userToken};return this.$tracker.legacyAnalyticsByKeyService.send(r,e,t)},_delayRegisterViewEvent:function(){if(!this.noTracking)return this.widgetInViewport?this._sendViewEvent():void this._registerSendViewEvent()},_registerSendViewEvent:function(){this.noTracking||this.registerViewportEvent(this._sendViewEvent,{once:!0})},_sendViewEvent:function(){this.noTracking||this._sendAnalyticEvent(x.rr.WIDGET_VIEW_ACTION)},_sendAnalyticEvent:function(e){return!this.noTracking&&(!this.root&&this.trackerSend(e))},_logTrackerError:function(e){var t=new T.WidgetError(e);t.setPayloadValue("vertical",f()(this,"vertical")),t.setPayloadValue("component",f()(this,"componentName")),t.setPayloadValue("widget",f()(this,"widget")),t.setPayloadValue("stateId",f()(this,"stateId")),this.$logger.error(t)},_logTrackerInfo:function(e){var t={vertical:f()(this,"vertical"),component:f()(this,"componentName"),widget:f()(this,"widget"),stateId:f()(this,"stateId")};this.$logger.info({message:e,payload:t,zone:"tracker",forceMode:!0})}}},D={props:{widgetsStatisticsTrackerMetrics:{type:[Object,String],default:function(){return{}}}},mounted:function(){var e=((0,O.l)(this).state._get("o3Params.x-o3-tracker-metrics")||"on"===(0,j.ej)("tracker_metrics"))&&this.$el instanceof HTMLElement,t=f()(this,"trackingInfo.id");e&&t&&(this.$el.dataset.widgetId=t,this.$el.dataset.widgetsStatisticsTrackerMetrics=f()(this,"widgetsStatisticsTrackerMetrics"))}},W=r("df03f"),U={mixins:[(0,O.Q)({toolbarFlag:function(e){return e._get("o3Params."+W.t)},widgets:function(e){return e._get("debug.widgets")}})],computed:{_showWidgetInfo:function(){return this.toolbarFlag&&this.$el instanceof HTMLElement&&this._widgetId},_widgetId:function(){return f()(this.widgets,this.stateId+".id")||f()(this,"trackingInfo.id")}},methods:{handlerLoaderNextPage:function(e){if(this._showWidgetInfo){var t=document.querySelector("#debug-tool");t&&(t.dispatchEvent(new CustomEvent("loadNextPage",{detail:{widgetId:this._widgetId,value:e}})),this.$el.dataset.layoutId=e.layoutTrackingInfo.layoutId,this.$el.dataset.layoutName=e.layoutTrackingInfo.layoutContainer,this.$el.dataset.layoutVersion=e.layoutTrackingInfo.layoutVersion)}}},mounted:function(){if(this._showWidgetInfo){if(this.$el.dataset.widgetId=this._widgetId,this.$el.dataset.widgetName=f()(this,"componentName"),this.$el.dataset.vertical=f()(this,"vertical"),this.$el.dataset.version=f()(this,"version"),"paginator"===f()(this,"componentName")&&this.widgetInitialState.nextPage){var e=this.widgetInitialState.nextPage,t=new URL(e,"https://ozon.ru"),r=Number(t.searchParams.get("layout_page_index"));this.$el.dataset.currentPage=r}"megaPaginator"===f()(this,"componentName")&&this.currentPage&&(this.$el.dataset.currentPage=this.currentPage,this.$el.dataset.totalPages=this.totalPages)}}},V={beforeCreate:function(){var e=(0,O.l)(this);if(e.state._get("o3Params.x-o3-sitespeed-enable")){var t=e.state._get("browser.isDesktop")?"desktop":"mobile",r=this.$options.propsData,n=[r.vertical,r.componentName,t,r.version].join("_").toUpperCase()||"widget";performance.mark("BEFORE_CREATE:"+n),this.$once("hook:mounted",(function(){performance.mark("MOUNTED:"+n),performance.measure("MOUNT:"+n,"BEFORE_CREATE:"+n,"MOUNTED:"+n)}))}}},B={name:"BaseWidget",inheritAttrs:!1,data:function(){return{widgetState:this.widgetInitialState}},mixins:[S,M,A,D,w.default,V,U],props:m.t,inject:{$informPaginatorMounted:{default:null},isMobile:{default:!1},isAccessibilityMode:{default:!1},useWidgetRender:{default:!1}},mounted:function(){var e=this;this.$el&&"function"==typeof this.$el.setAttribute&&this.$el.setAttribute("data-widget",this.componentName),this.$nextTick((function(){e.$informPaginatorMounted&&e.$informPaginatorMounted(e.stateId)}))},created:function(){var e,t=this,r=this,n=r.widgetInitialState,o=r.stateId,c=r.asyncType;this.widgetInitialState&&Object.keys(this.widgetInitialState).length&&y.registry.use(v.ClientWidgetStates).next(((e={})[this.stateId]=this.widgetInitialState,e),{silent:!0}),this.stateSubscription=y.registry.use(v.ClientWidgetStates).onNextState((function(e){null!==e&&null!=e[o]&&e[o]!==t.widgetState&&t.setWidgetState(e[o])}));try{(0,h.zQ)(n,o,void 0!==c)}catch(e){this.logError(e)}},beforeDestroy:function(){this.stateSubscription&&this.stateSubscription.unsubscribe()},computed:{groupStatePath:function(){return[this.vertical,this.componentName].join(".")}},methods:{destroyWidget:function(){return(0,c.__awaiter)(this,void 0,void 0,(function(){return(0,c.__generator)(this,(function(e){switch(e.label){case 0:return[4,y.registry.use(_.ComposerActions).removeWidgetByStateId(this.stateId)];case 1:return e.sent(),[2]}}))}))},setWidgetState:function(e){var t;try{var r=(0,h.V0)(e);y.registry.use(v.ClientWidgetStates).next(((t={})[this.stateId]=r,t),{silent:!0}),this.widgetState=r,void 0===this.asyncType&&this.$emit("state::loaded")}catch(e){this.logError(e)}},setWidgetStateValue:function(path,e){var t;return y.registry.use(v.ClientWidgetStates).next(((t={})[this.stateId]=this.widgetState,t),{silent:!0}),(0,l.vueSet)(this.widgetState,path,e)},setWidgetPlaceholders:function(e,t){return(0,c.__awaiter)(this,void 0,void 0,(function(){return(0,c.__generator)(this,(function(r){switch(r.label){case 0:return[4,y.registry.use(_.ComposerActions).setWidgetPlaceholderByStateId({stateId:this.stateId,placeholder:{name:e,widgets:t}})];case 1:return r.sent(),[2]}}))}))},notEmptyPlaceholder:function(e){var t=(0,h.ph)(this.placeholders,e);return!!t&&Boolean(t.widgets.length)},getPlaceholderWidgets:function(e){var t=(0,h.ph)(this.placeholders,e);return t?t.widgets:[]},getLoggerParams:function(){var e=this;return{widget:e.componentName,stateId:e.stateId,vertical:e.vertical,error:f()(this,"widgetState.error")}},logError:function(e){var t=this.getLoggerParams();e.setPayloadValue("widget",t.widget),e.setPayloadValue("stateId",t.stateId),e.setPayloadValue("error",t.error),e.setPayloadValue("vertical",t.vertical),this.$logger.error(e)}}},G=o().extend(B)},"0bb15":function(e,t,r){r.r(t),r.d(t,{getFirstBaseInstance:function(){return o}});var n=r("2b931");function o(e){return e instanceof n.default?e:null!=e.$parent?o(e.$parent):null}},e28a2:function(e,t,r){r.r(t);var n=r("29443"),o=r("9e5e3");t.default={name:"ComposerLoadingMixin",mixins:[(0,o.Q)({loading:function(e){return e._get("shared.loading")}})],data:function(){return{isMounted:!1}},mounted:function(){this.isMounted=!0},computed:{isComposerLoading:function(){return this.loading===n.Zs&&this.isMounted}}}},ac1d9:function(e,t,r){r.r(t);var n=r("88568");function o(e,t,r){if(r.once)this.composerRouter.once(e,t);else{var n=this.composerRouter.on(e,t);n&&this.unsubscribes.push(n)}}t.default={name:"ComposerRouterMixin",beforeCreate:function(){this.composerRouter=n.Router.getInstance(),this.unsubscribes=[]},computed:{routeLoading:function(){return this.composerRouter.loading},routeStatus:function(){return this.composerRouter.status},routeModalOptions:function(){return this.composerRouter.contextOptions}},methods:{beforeRouteLeave:function(e,t){void 0===t&&(t={once:!1}),o.call(this,n.EContextHook.BEFORE_ROUTE_LEAVE,e,t)},afterRouteEnter:function(e,t){void 0===t&&(t={once:!1}),o.call(this,n.EContextHook.AFTER_ROUTE_ENTER,e,t)},beforeUrlChange:function(e,t){void 0===t&&(t={once:!1}),o.call(this,n.EContextHook.BEFORE_URL_CHANGE,e,t)},afterUrlChange:function(e,t){void 0===t&&(t={once:!1}),o.call(this,n.EContextHook.AFTER_URL_CHANGE,e,t)},startRouteLoading:function(e,t){void 0===t&&(t={once:!1}),o.call(this,n.EContextHook.START_ROUTE_LOADING,e,t)},endRouteLoading:function(e,t){void 0===t&&(t={once:!1}),o.call(this,n.EContextHook.END_ROUTE_LOADING,e,t)}},beforeDestroy:function(){if(this.unsubscribes.length){for(var i=0;i<this.unsubscribes.length;i++){var e=this.unsubscribes[i];e&&e()}this.unsubscribes=[]}}}},"8de51":function(e,t,r){function n(e){return void 0===e&&(e=10),{data:function(){return{displayPriority:0}},mounted:function(){this.runDisplayPriority()},methods:{runDisplayPriority:function(){var t=this,r=function(){requestAnimationFrame((function(){t.displayPriority++,t.displayPriority<e&&r()}))};r()},defer:function(e){return this.displayPriority>=e}}}}r.r(t),r.d(t,{Defer:function(){return n}})},a63b4:function(e,t,r){r.r(t);var n=r("9f78d");t.default={inheritAttrs:!1,computed:{showWidget:function(){return!this.hasWidgetError&&(Object.keys(this.widgetState).length||this.asyncType===n.m.TYPE_ON_VIEWPORT)},hasWidgetError:function(){return this.widgetState.error}},inject:{$isMobile:{from:"isMobile",default:!1}}}},e3d27:function(e,t,r){r.r(t),r.d(t,{default:function(){return R}});var n=r("20f02"),o=r("2e420"),c=r("0bb15"),l={name:"ErrorCapture",props:{widget:{type:[Function,String],required:!0},widgetProps:{type:Object,default:function(){return{}}},platform:{type:String,default:""}},data:function(){return{error:!1}},computed:{errorCheckWidget:function(){return this.error?"div":this.widget}},errorCaptured:function(e,t){var r=(0,c.getFirstBaseInstance)(t),l=null!==r&&"function"==typeof r.getLoggerParams,d=(0,o.e)(e,l),f=e instanceof n.WidgetError?e:new n.WidgetError(d);if(f.setPayloadValue("error",e.message),f.setPayloadValue("stack",e.stack),f.setPayloadValue("component",t.$options.name),l){var h=r.getLoggerParams();f.setPayloadValue("widget",h.widget),f.setPayloadValue("stateId",h.stateId),f.setPayloadValue("vertical",h.vertical)}return this.$logger.error(f),this.error=!0,!1}},d=r("b429c"),f=(0,d.default)(l,(function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.errorCheckWidget,e._g(e._b({tag:"component"},"component",e.widgetProps,!1),e.$listeners))}),[],!1,null,null,null).exports,h=r("98bae"),y=r("21bdb"),v=r.n(y),_=r("b491a"),m=r("1a8df"),w=r("5665c"),S=function(e,t,r,o,c,l,d){void 0===d&&(d=!1);var content=(t.content||{})[o],component=content;if(!content&&!d&&(0,m.J5)(r,e)&&!(0,m.ds)(r))return function(){for(var n=[],d=0;d<arguments.length;d++)n[d]=arguments[d];return(0,m.Kl)(r,e,t).then((function(){return S(e,t,r,o,c,l,!0).apply(void 0,(0,h.__spread)(n))}))};if("function"==typeof content)return content;if("object"!=typeof content){if((0,m.J5)(r,e)){var f=new n.WidgetError(_.jn.WIDGET_NOT_FOUND);throw f.setPayloadValue("disallowNames",[o]),f}throw new w.LoggerError(_._.WRONG_WIDGET_CONTENT)}if(content.desktop&&content.mobile&&(component=component[l]),"function"==typeof component)return component;if(!component.versions)throw new w.LoggerError(_._.WRONG_WIDGET_VERSION);return"1"===c||component.default&&Object.keys(component.versions).length&&!component.versions[c]?component.default:component.versions[c]},E=r("5fe81"),T=r("75f7f"),I=r("df800"),k=r("9e5e3"),N=r("8de51"),O={};function P(e){return void 0===e&&(e=""),e.charAt(0).toUpperCase()+e.substr(1)}var A={};var x={name:"WidgetDisallowMixin",computed:{widgets:function(){for(var e=[],t=this.placeholders[this.placeIndex]||{},r=t.widgets&&t.widgets.length?t.widgets:[],n=0;n<r.length;n++)e.push(Object.assign({},r[n],{index:n}));return e},placeIndex:function(){if(!Array.isArray(this.placeholders))return-1;for(var i=0;i<this.placeholders.length;i++)if(this.placeholders[i].name===this.place)return i;return-1}},methods:{getAllowedComponents:function(e,t,r,n,o){void 0===r&&(r=[]);for(var c,l,d={allowed:[],disallowed:[],nonexistent:[]},f=e.state._get("o3Params.x-o3-disable-placements"),i=0;i<r.length;i++){var component=(0,h.__assign)({},r[i]),y=(c=component.vertical,l=component.component,void 0===c&&(c=""),void 0===l&&(l=""),O[c]||(O[c]={}),O[c][l]||(O[c][l]=P(c)+P(l)),O[c][l]);component.name=y,component.index=i,A[y]||(A[y]={}),A[y][t]||(A[y][t]=(o[y]||[]).indexOf(t)>-1);var v=void 0;v=f||A[y][t]?"allowed":"disallowed",void 0===n[y]&&(v=(0,m.J5)(component.vertical,e)&&!(0,m.ds)(component.vertical)?"allowed":"nonexistent"),d[v].push(component)}return d},sendDisallow:function(e,t){var r=this.getIdsAndNames(t),n=r.names,o=r.ids,component=v()(this.$parent,"$vnode.componentOptions.tag");e.setPayloadValue("component",component),e.setPayloadValue("disallowNames",n),e.setPayloadValue("disallowIds",o),e.setPayloadValue("placeholderName",this.placeholderName),this.$logger.error(e)},checkDisallow:function(e){void 0===e&&(e=[]);try{this.validateDisallow(e)}catch(t){this.sendDisallow(t,e)}},validateDisallow:function(e){void 0===e&&(e=[]);var t=(0,k.l)(this).state._get("o3Params.x-o3-disable-placements"),r=this.$config.get("useDisallowWidgets");if(e.length&&r&&"true"!==t)throw new n.WidgetError(_.kE.WIDGET_CANT_BE_RENDERED)},sendNonexistent:function(e,t){var r=this.getIdsAndNames(t),n=r.names,o=r.ids,component=v()(this.$parent,"$vnode.componentOptions.tag");e.setPayloadValue("component",component),e.setPayloadValue("nonexistNames",n),e.setPayloadValue("nonexistIds",o),e.setPayloadValue("placeholderName",this.placeholderName),this.$logger.error(e)},checkNonexistent:function(e){void 0===e&&(e=[]);try{if(e.length)throw new n.WidgetError(_.jn.WIDGET_NOT_FOUND)}catch(t){this.sendNonexistent(t,e)}},getIdsAndNames:function(e){for(var t=[],r=[],i=0;i<e.length;i++){var component=e[i];t.push(component.name),r.push(component.id)}return{names:t,ids:r}}}},C={name:"PlaceholderRenderMixin",data:function(){return{isServer:Boolean(!1)}},mixins:[(0,N.Defer)(),x,(0,k.Q)({platform:function(e){return e._get("client.platform","undefined")},disableLayoutPath:function(e){return e._get("experimentsConfig.disableLayoutPath")}})],inject:{$informPaginatorMounted:{default:null},isMobile:{default:!1},layoutPath:{default:""}},computed:{placeholderName:function(){return[this.type,this.place].join(".")},replaceLayoutPath:function(){if(this.disableLayoutPath)return this.placeholderName;var path=this.layoutPath;return this.placeIndex<0?path:path+"["+this.placeIndex+"]"},renderingComponents:function(){var e=this.getAllowedComponents((0,k.l)(this),this.placeholderName,this.widgets,E.Z.content||{},E.Z.places||{}),t=e.allowed,r=e.disallowed,n=e.nonexistent;if(r&&r.length&&this.$informPaginatorMounted)for(var i=0;i<r.length;i++){var o=r[i];this.$informPaginatorMounted(o.stateId)}return this.checkDisallow(r),this.checkNonexistent(n),t}},methods:{createComponent:function(component){try{var e=this.isMobile?"mobile":"desktop",t=component.version&&component.version.toString()||"1";return S((0,k.l)(this),E.Z,component.vertical,component.name,t,e)}catch(e){return this.$logger.error(e),"div"}},getWidgetProps:function(e){var t=e.params,r=e.widgetTrackingInfo,n={};return"string"==typeof t?n=JSON.parse(t):"object"==typeof t&&(n=(0,h.__assign)({},t)),Object.assign(n,{componentName:e.component,asyncType:e.asyncType,asyncHash:e.asyncData,trackingOn:e.trackingOn,vertical:e.vertical,stateId:e.stateId,version:e.version,placeholders:e.placeholders,root:e.root,widgetToken:e.widgetToken,trackingInfoProp:r,widgetsStatisticsTrackerMetrics:e.widgetsStatisticsTrackerMetrics,widgetInitialState:this.parseWidgetInitialState(e)})},parseWidgetInitialState:function(e){var t={};if(e.stateId){var r=document.getElementById("state-"+e.stateId),n=r&&r.getAttribute("data-state"),o=v()(T.registry.use(I.ClientWidgetStates),"value["+e.stateId+"]")||n;"string"==typeof o&&(o=JSON.parse(o)),t=o||{}}return t}}},L={components:{ErrorCapture:f},mixins:[C],props:{placeholders:{type:Array,default:function(){return[]}},place:{type:String,default:"default"},tagName:{type:String,default:"div"}}},template=(0,d.default)(L,(function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.isServer?e.placeIndex<0?r(e.tagName,{tag:"component",attrs:{"data-widget-disallow":e.replaceLayoutPath}}):r(e.tagName,{tag:"component",attrs:{"data-replace-layout-path":e.replaceLayoutPath}},[e._v("#CONTENT#")]):r(e.tagName,{tag:"component"},[e._l(e.renderingComponents,(function(t,n){return[e.defer(t.defer||0)?r("ErrorCapture",e._g({key:(t.stateId||"empty")+"-"+n,attrs:{widget:e.createComponent(t),"widget-props":e.getWidgetProps(t),platform:e.platform}},e.$listeners)):e._e()]}))],2)}),[],!1,null,null,null).exports,R=function(e){return{extends:template,data:function(){return{type:e}}}}},"73e07":function(e,t,r){r.d(t,{j:function(){return c}});var n=r("98bae"),o=["block-horizontal.default","wallpaper.default","block-vertical.default","grid-column.default","container.default","paginator.default","sticky-container.top","sticky-container.middle","sticky-container.bottom","sticky-container.default","shop-in-shop-container.default","pdp.grid.default","pdp.containerFixed.default","pdp.tabs","pdp.default","wrapper.default"];function c(e,map){Object.entries(e).forEach((function(e){var t=(0,n.__read)(e,2),r=t[0],component=t[1],content=component.content,c=(0,n.__rest)(component,["content"]);map.content[r]=content,map.params[r]=c,map.places[r]=function(e){var t=e.places||[];return t.length?e.extendPlaces?(0,n.__spread)(o,t):t:o}(c)}))}},"1a8df":function(e,t,r){r.d(t,{J5:function(){return m},Kl:function(){return S},dT:function(){return T},ds:function(){return w},pm:function(){return E},qI:function(){return I}});var n=r("98bae"),o=r("73e07"),c=r("b8101"),l=r("35210"),d=r("076d7"),f=r("b0c6d"),h={};function y(e,map){var t=(0,f.g)(),r=t.composerComponents[e];"object"==typeof r&&((0,o.j)(r,map),t.composerComponents[e]={})}function v(e,t){"function"!=typeof window.__getPublicPath[e]&&(window.__getPublicPath[e]=function(){return t.publicPath})}function _(e){return e.state._get("verticalInfo",{})}function m(e,t){return e in _(t)}function w(e){return!!(0,f.g)().composerComponents[e]}function S(e,t,map){if(h[e])return h[e];var r,o=_(t)[e];if(!o)return Promise.resolve();if(!o.publicPath)return(r=new c.FederationLoggerError(l.r.PUBLIC_PATH_IS_MISSING)).setPayloadValue("vertical",e),Promise.reject(r);if(!o.initial||!o.initial.length)return(r=new c.FederationLoggerError(l.r.INITIAL_ASSETS_ARE_MISSING)).setPayloadValue("vertical",e),Promise.reject(r);v(e,o);var f=o.initial.map((function(e){return o.publicPath+e})),m=t.state._get("browser.cspNonce"),w=f.filter((function(e){return e.endsWith(".js")})).map((function(e,t,r){return[(0,d.hT)(e,m,1===r.length),e]})),S=f.filter((function(e){return e.endsWith(".css")})).map((function(e){return[(0,d.EW)(e,m),e]})),E=(0,n.__spread)(S,w).map((function(t){var r=(0,n.__read)(t,2),o=r[0],d=r[1];return new Promise((function(t,r){var n=window.setTimeout((function(){y(l.r.LOADING_INITIAL_ASSET_TIMED_OUT)}),6e4),f=function(){window.clearTimeout(n),o.removeEventListener("load",h),o.removeEventListener("error",v),o.parentNode&&o.parentNode.removeChild(o)},h=function(){f(),t()},y=function(t){f();var n=new c.FederationLoggerError(t);n.setPayloadValue("vertical",e),n.setPayloadValue("assetSrc",d),r(n)},v=function(){y(l.r.LOADING_INITIAL_ASSET_FAILED)};o.addEventListener("load",h),o.addEventListener("error",v),document.head.appendChild(o)}))})),T=Promise.all(E).then((function(){y(e,map)})).finally((function(){delete h[e]}));return h[e]=T,T}function E(map){var e=(0,f.g)();Object.keys(e.composerComponents).forEach((function(e){y(e,map)}))}function T(e){Object.entries(_(e)).forEach((function(e){var t=(0,n.__read)(e,2);v(t[0],t[1])}))}function I(e,map){return(0,n.__awaiter)(this,void 0,void 0,(function(){var t,r,o,c,l;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return t=new Set,Object.keys(_(e)).forEach((function(e){w(e)||t.add(e)})),r=function(e,n){return void 0===n&&(n=new Set),e.forEach((function(e){t.has(e.vertical)&&n.add(e.vertical),e.placeholders&&e.placeholders.length&&e.placeholders.forEach((function(e){e.widgets&&e.widgets.length&&r(e.widgets,n)}))})),n},o=e.state._get("layout",[]),(c=r(o)).size?(l=[],c.forEach((function(t){l.push(S(t,e,map))})),[4,Promise.allSettled(l)]):[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}}))}))}},"02004":function(e,t,r){function n(e){e.shared&&"string"==typeof e.shared&&(e.shared=JSON.parse(e.shared)),e.layoutTrackingInfo&&"string"==typeof e.layoutTrackingInfo&&(e.layoutTrackingInfo=JSON.parse(e.layoutTrackingInfo))}function o(e){e.userInfo=e.userInfo||{abGroup:0,activeOrderCount:0,user:{userId:0,balance:0,email:"",firstName:"",isEmployee:!1,isLoggedIn:!1,lastName:"",middleName:"",points:0,registrationDate:"",sex:0,userType:1,accountPhone:"",clientGuid:"",dateOfBirth:"",loyaltyStatus:null}}}r.d(t,{bQ:function(){return o},tf:function(){return n}})},"08986":function(e,t,r){r.d(t,{V0:function(){return d},ph:function(){return f},zQ:function(){return l}});var n=r("b491a"),o=r("5665c"),c=r("20f02");function l(e,t,r){if((null==e||"object"!=typeof e)&&(t&&!r))throw new o.LoggerError(n._.WIDGET_STATE_NOT_FOUND)}function d(e){switch(typeof e){case"string":return JSON.parse(e);case"object":if(e)return Object.assign({},e);default:throw new o.LoggerError(n._.WIDGET_WRONG_SET_STATE)}}function f(e,t){if(void 0===e&&(e=[]),!Array.isArray(e)){var r=new c.WidgetError(n._.PLACEHOLDERS_MUST_BE_ARRAY);throw r.setPayloadValue("invalidType",typeof e),r.setPayloadValue("invalidValue",e?JSON.stringify(e):""),r}return e.find((function(e){return e.name===t}))||{name:"",widgets:[]}}},"2ab0a":function(e,t,r){r.d(t,{w:function(){return o}});var n=Symbol("__isService"),o=function(){function e(e){this.__isService=n,this._deps={},this.configure(e.deps)}return Object.defineProperty(e.prototype,"$logger",{get:function(){if(this._deps.diContainer)return this._deps.diContainer.resolve("Logger")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$config",{get:function(){if(this._deps.diContainer)return this._deps.diContainer.resolve("Config")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$tracker",{get:function(){if(this._deps.diContainer)return this._deps.diContainer.resolve("Tracker")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$composerRouter",{get:function(){return this._deps.composerRouter},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$composerStore",{get:function(){return this._deps.composerStore},enumerable:!1,configurable:!0}),e.prototype.configure=function(e){void 0===e&&(e={}),Object.assign(this._deps,e)},e}()},25634:function(e,t,r){r.d(t,{s:function(){return n}});var n=function(){function e(e){this.message=e,this.name="Error";var t=new Error;t.stack&&(this.stack=t.stack)}return e.prototype.toString=function(){return this.message+this.stack},e}()},af9a1:function(e,t,r){r.r(t),r.d(t,{AbstractActionsService:function(){return c}});var n=r("98bae"),o=r("3a017"),c=(r("5665c"),r("a4a2f"),function(e){function t(t){return e.call(this,t)||this}return(0,n.__extends)(t,e),t}(o.EventBus))},efd73:function(e,t,r){r.r(t),r.d(t,{AbstractApiService:function(){return N}});var n=r("98bae"),o=r("21bdb"),c=r.n(o),l=r("c9e1e"),d=r("2ab0a"),f=r("93b8f"),h=function(){function e(e,t){void 0===e&&(e={}),this.fetchImpl=t.fetchImpl,this.defaultConfig=(0,n.__assign)((0,n.__assign)({},e),{headers:(0,n.__assign)({Accept:"application/json"},e.headers)})}return e.prototype.request=function(e){var t={credentials:"include",body:e.data,method:e.method,headers:(0,n.__assign)((0,n.__assign)({},this.defaultConfig.headers),e.headers)};return e=(0,n.__assign)((0,n.__assign)({},e),{timeout:e.timeout||this.defaultConfig.timeout}),this.getFetchPromise(t,e)},e.prototype.getFetchPromise=function(e,t){var r=this,o=new AbortController;e.signal=o.signal;return new f.CancelablePromise((function(c,l,d){return(0,n.__awaiter)(r,void 0,void 0,(function(){var r,f,h,y,data,v,_,m;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:d((function(){o.abort()})),n.label=1;case 1:return n.trys.push([1,6,,7]),[4,this.fetchImpl(t.url,e)];case 2:return(r=n.sent()).ok&&"stream"===t.responseType?[2,c({data:r.body,headers:r.headers})]:r.ok&&"blob"===t.responseType?[4,r.blob()]:[3,4];case 3:return f=n.sent(),[2,c({data:f,headers:r.headers})];case 4:return h=r.headers.get("content-type"),y=!h||h.includes("application/json"),[4,r.text()];case 5:if(data=n.sent(),v=r.headers instanceof Headers?Object.fromEntries(Array.from(r.headers)):{},_={data:data,headers:r.headers,status:r.status,aborted:o.signal.aborted,headersObject:v},y&&data.length>0)try{data=_.data=JSON.parse(data)}catch(e){return[2,l({error:e,response:_})]}return r.ok?[2,c({data:data,headers:r.headers})]:[2,l({response:_})];case 6:return m=n.sent(),[2,l({error:m,response:r})];case 7:return[2]}}))}))}))},e}(),y=r("728de"),v=(r("5665c"),r("a4a2f"),r("9ef10")),_=r("83e07"),m=r("98f4c"),w=r("8529e"),S=r("888db"),E=r("d7915"),T=/\/_action(\/)?v2($|\?|\/)/,I=["post","put","delete"],k=function(e){var t=e&&"object"==typeof e&&e.response||{};return Promise.reject(t)},N=function(e){function t(t,r){var n=(void 0===r?{}:r).requestController,o=e.call(this,t)||this;return o.rejectWithResponse=k,o._requestController=n,o}return(0,n.__extends)(t,e),Object.defineProperty(t.prototype,"requestController",{get:function(){return this._requestController||(this._requestController=new h({timeout:this.$config.get("defaultApiTimeout"),headers:(0,w.d)(this.$composerStore.state._get("client.platform"))},{fetchImpl:window.fetch.bind(window)})),this._requestController},enumerable:!1,configurable:!0}),t.prototype.callApi=function(e,t){var r=this,o=e.overrideServicePath||this.servicePath,c=(0,E.h4)(this.serviceVersion),l=e.fromRoot?(0,E.P$)():(0,E.Jl)(this.$config.get("apiGateway")),d=(0,E.iX)(o,l),f={url:(0,E.hy)(d,c,e.path),method:e.method,widgetToken:e.widgetToken,serviceName:this.serviceName,headers:{}},h=new Error;h.stack&&(f.stackTrace=h.stack.split("\n").slice(3).join("\n")),void 0!==e.timeout&&(f.timeout=e.timeout),(0,_._Z)(t)||"text/plain"===e.contentType||(t={}),t instanceof FormData||(f.headers["Content-Type"]="string"==typeof e.contentType?e.contentType:"application/json"),"string"==typeof e.responseType&&(f.responseType=e.responseType),I.includes(f.method.toLowerCase())?f.data=(0,E._d)(t,e.contentType):"object"==typeof t&&(f.url=(0,S.At)(f.url,t));var y=this.$composerStore.state._get("browser",{});y.forceDesktop?f.url=(0,S.At)(f.url,{force_platform:"desktop"}):y.forceMobile&&(f.url=(0,S.At)(f.url,{force_platform:"mobile_theme"}));var v=this.requestController.request(f);return v.then((function(e){return(0,n.__awaiter)(r,void 0,void 0,(function(){return(0,n.__generator)(this,(function(t){try{this.onRequestSuccess(e,f)}catch(e){this.$logger.error({exception:e,zone:"api"})}return[2]}))}))})).catch((function(e){return(0,n.__awaiter)(r,void 0,void 0,(function(){return(0,n.__generator)(this,(function(t){try{this.onRequestError(e,f)}catch(e){this.$logger.error({exception:e,zone:"api"})}return[2]}))}))})),v},t.prototype.fetch=function(e,t){return this.callApi(e,t).then((function(e){return e.data}))},t.prototype.onRequestSuccess=function(e,t){return(0,n.__awaiter)(this,void 0,void 0,(function(){var r,o,data,l,d,f,h,y,v,_,m,w=this;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return(r=t.url.match(T))&&(o=e.data,e.data=o.data,e.originalData=o),data=e.data,l=e.headers,c()(data,"browser.useSpa")&&(d=c()(data,"pageInfo.url"),f=l.get("x-o3-trace-id"),this.$composerStore.setComposerDebug({pageUrl:d,traceId:f})),r&&"object"==typeof e.originalData?(h=c()(e.originalData,"trackingPayloads"),y=c()(e.originalData,"trackingInfo"),v=c()(e.originalData,"pageToken"),_=c()(e.originalData,"userToken"),e.originalData.error?(this.$logger.error({message:e.originalData.error,zone:"api"}),[2]):h&&"object"==typeof h?[4,this.$composerStore.setTrackingPayloads(h)]:[3,2]):[2];case 1:n.sent(),n.label=2;case 2:return y&&"object"==typeof y&&(m=t.widgetToken,Object.keys(y).forEach((function(e){if(y[e].actionType){var t={widgetToken:m,pageToken:v,userToken:_};w.$tracker.legacyAnalyticsByKeyService.send(t,y[e],{})}}))),[2]}}))}))},t.prototype.onRequestError=function(e,t){return(0,n.__awaiter)(this,void 0,void 0,(function(){var r,o,c,d,f;return(0,n.__generator)(this,(function(n){if(r=e.response,o=v.b.ERROR_GETTING_RESPONSE,r)switch(c=Number(r.status)){case 404:o=v.b.REQUEST_FAIL_NOT_FOUND;break;case 401:o=v.b.REQUEST_FAIL_AUTH_ERROR;break;default:Object.assign(o,v.b.REQUEST_FAIL),o.value=""+o.value+c+" error"}return(d=new y.ApiLoggerError(o)).setLevel(l.ELoggerLogLevels.ERROR),d.setPayloadValue("serviceName",t.serviceName),d.setPayloadValue("requestUrl",t.url),d.setPayloadValue("method",t.method),c&&d.setPayloadValue("statusCode",c),f=encodeURIComponent(window.location.host),d.setPayloadValue("uuid",window.btoa((0,m.O1)(f,12))),this.$logger.error(d),[2]}))}))},t}(d.w)},e374c:function(e,t,r){r.r(t),r.d(t,{AbstractStoreService:function(){return y}});var n=r("98bae"),o=r("06c58"),c=r("21bdb"),l=r.n(c),d=r("2ab0a"),f=(r("71624"),r("5665c"),r("a4a2f"),{_get:function(path,e){return l()(this,path,e)}}),h=function(e){return Object.assign(Object.create(f),e)},y=function(e){function t(t,r){void 0===r&&(r={});var n=e.call(this,t)||this;return n._noFreezeServerState=r.noFreezeServerState,n}return(0,n.__extends)(t,e),Object.defineProperty(t.prototype,"stateSubject",{get:function(){return this._stateSubject||(this._stateSubject=new o.X(this._getInitialState())),this._stateSubject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"state",{get:function(){return h(this.stateSubject.getValue())},enumerable:!1,configurable:!0}),t.prototype._getInitialState=function(){return h(this.getInitialState()||{})},t.prototype.onNextState=function(e){var t=this;return this.stateSubject.subscribe((function(r){try{var n=e(r);n&&"object"==typeof n&&"function"==typeof n.catch&&n.catch((function(e){t.$logger.error({exception:e,zone:"store"})}))}catch(e){t.$logger.error({exception:e,zone:"store"})}}))},t.prototype.pushState=function(e){var t=this.state,r=!1,n=e(t,(function(){r=!0}));r||(n=void 0===n?t:h(n),this.stateSubject.next(n))},t}(d.w)},df800:function(e,t,r){r.r(t),r.d(t,{ClientWidgetStates:function(){return d}});var n=r("98bae"),o=r("e374c"),c=r("b491a"),l=r("20f02"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.value={},t}return(0,n.__extends)(t,e),t.prototype.getInitialState=function(){return this.value},t.prototype.next=function(e,t){var r=this;if(void 0===e&&(e={}),void 0===t&&(t={}),"object"!=typeof e){var n=new l.WidgetError(c._.CLIENT_WIDGET_STATES_INVALID_TYPE);throw n.setPayloadValue("invalidType",typeof e),n}t.replace?this.value=e:this.value=Object.assign(this.value,e),t.silent||this.pushState((function(){return r.value}))},t}(o.AbstractStoreService)},"3a017":function(e,t,r){r.r(t),r.d(t,{EventBus:function(){return d}});var n=r("98bae"),o=r("8237a"),c=r("aa0de"),l=r("2ab0a"),d=(r("5665c"),r("71624"),r("a4a2f"),function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.__extends)(t,e),Object.defineProperty(t.prototype,"eventsSubject",{get:function(){return this._eventsSubject||(this._eventsSubject=new o.xQ),this._eventsSubject},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"events$",{get:function(){return this.eventsSubject.asObservable()},enumerable:!1,configurable:!0}),t.prototype.emit=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=e.length<2?{name:e[0]}:{name:e[0],payload:e[1]};return this.eventsSubject.next(r),this},t.prototype.listen=function(e,t){var r=this;var n=Array.isArray(e)?e:[e],o=this.eventsSubject.pipe((0,c.h)((function(e){return n.includes(e.name)}))).subscribe((function(e){var n=r.$logger||console;try{var c=t(e,o);c&&"object"==typeof c&&"function"==typeof c.catch&&c.catch((function(e){n.error({exception:e,zone:"event-bus"})}))}catch(e){n.error({exception:e,zone:"event-bus"})}}));return o},t}(l.w))},"5beb7":function(e,t,r){r.r(t),r.d(t,{RxStore:function(){return l}});var n=r("8237a"),o=r("aa0de"),c=r("c9e1e"),l=new(function(){function e(t){if(void 0===t&&(t=!0),this.cartItemsMap=new Map,e.instance)return e.instance;t&&(this.$events=new n.xQ),this.clientFlags||(this.clientFlags={}),e.instance=this}return Object.defineProperty(e.prototype,"$favEvents",{get:function(){return this.$events.pipe((0,o.h)((function(e){return e.name===c.ERxStoreEventNames.Favorites})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$favCountEvents",{get:function(){return this.$events.pipe((0,o.h)((function(e){return e.name===c.ERxStoreEventNames.FavoritesCount})))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"$clientFlags",{get:function(){return this.$events.pipe((0,o.h)((function(e){return e.name===c.ERxStoreEventNames.SetClientFlag})))},enumerable:!1,configurable:!0}),e.prototype.dispatch=function(e,t){"object"==typeof e&&null!==e?this.$events.next(e):this.$events.next({name:e,payload:t})},e.prototype.getClientFlag=function(e){return this.clientFlags[e]||!1},e.prototype.setClientFlag=function(e,t){this.dispatch(c.ERxStoreEventNames.SetClientFlag,{flag:e,value:t}),this.clientFlags[e]=t},e.prototype.setShowLocationModal=function(e){this.setClientFlag(c.ERxStoreClientFlagNames.LocationModal,e)},e.prototype.setShowAdultModal=function(e){this.setClientFlag(c.ERxStoreClientFlagNames.AdultModal,e)},e.prototype.getAdultFlag=function(){return this.getClientFlag(c.ERxStoreClientFlagNames.AdultModal)},e.prototype.subscribeOnce=function(e){var t=this.$events.subscribe((function(r){e(r),t.unsubscribe()}))},e.prototype.filterByEventName=function(e){return this.$events.pipe((0,o.h)((function(t){return t.name===e})))},e.instance=null,e}())},"728de":function(e,t,r){r.r(t),r.d(t,{ApiLoggerError:function(){return o}});var n=r("98bae"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.__extends)(t,e),t.prototype.toLoggerMessage=function(){var e=this.getPayload();return{message:this.getType(),payload:{stack:e.stack,requestUrl:e.requestUrl,method:e.method,serviceName:e.serviceName,uuid:e.uuid,statusCode:e.statusCode}}},t.prototype.getDebugInfo=function(){return this.getPayload()},t}(r("5665c").LoggerError)},b8101:function(e,t,r){r.r(t),r.d(t,{FederationLoggerError:function(){return o}});var n=r("98bae"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.__extends)(t,e),t.prototype.toLoggerMessage=function(){var e=this.getPayload();return{message:this.getType(),payload:{stack:e.stack,vertical:e.vertical,assetSrc:e.assetSrc}}},t}(r("5665c").LoggerError)},"5665c":function(e,t,r){r.r(t),r.d(t,{LoggerError:function(){return c}});var n=r("98bae"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.payload={},t}return(0,n.__extends)(t,e),t.prototype.setPayloadValue=function(e,t){this.payload[e]=t},t.prototype.getPayload=function(){return this.payload},t.prototype.toString=function(){return this.message+" with payload: "+JSON.stringify(this.getPayload())+" "+this.stack},t}(r("25634").s),c=function(e){function t(t){var r=e.call(this,t.value)||this;return r.type=t,r}return(0,n.__extends)(t,e),t.prototype.setLevel=function(e){this.level=e},t.prototype.getLevel=function(){return this.level},t.prototype.toLoggerMessage=function(){return{message:this.type,payload:this.getPayload()}},t.prototype.getType=function(){return this.type},t.prototype.getDebugInfo=function(){return this.getPayload()},t}(o)},"20f02":function(e,t,r){r.r(t),r.d(t,{WidgetError:function(){return o}});var n=r("98bae"),o=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,n.__extends)(t,e),t.prototype.toLoggerMessage=function(){var e=this.getPayload(),t=this.getNonallowedNames(e);return{message:this.getType(),payload:(0,n.__assign)((0,n.__assign)({stack:e.stack,widget:e.widget,placeholderName:e.placeholderName},t),{component:e.component,stateId:e.stateId,vertical:e.vertical,error:e.error,layout:e.layout,layoutModal:e.layoutModal,layoutNotify:e.layoutNotify,requestedStateId:e.requestedStateId,triggerMutation:e.triggerMutation,response:e.response,invalidType:e.invalidType,invalidValue:e.invalidValue})}},t.prototype.getDebugInfo=function(){var e=this.getPayload(),t=this.getNonallowedNames(e);return(0,n.__assign)((0,n.__assign)({placeholderName:e.placeholderName},t),{component:e.component})},t.prototype.getNonallowedNames=function(e){return e.disallowNames?{disallowNames:e.disallowNames,disallowIds:e.disallowIds}:{nonexistNames:e.nonexistNames,nonexistIds:e.nonexistIds}},t}(r("5665c").LoggerError)},e078b:function(e,t,r){r.r(t),r.d(t,{ComposerActions:function(){return P}});var n=r("98bae"),o=r("21bdb"),c=r.n(o),l=r("bd7eb"),d=r("88568"),f=r("5665c"),h=r("728de"),y=r("02004"),v=r("af9a1"),_=r("df800"),m=r("75f7f"),w=r("03a25"),S=r("3b718"),E=r("b491a"),T=r("9ef10"),I=r("83e07"),k=r("ef63c"),N=r("29443"),O=r("639e3"),P=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.promises={},t}return(0,n.__extends)(t,e),t.prototype.refreshLayout=function(){return(0,n.__awaiter)(this,void 0,void 0,(function(){return(0,n.__generator)(this,(function(e){switch(e.label){case 0:return[4,this.getLayout({url:window.location.href})];case 1:return e.sent(),[2]}}))}))},t.prototype.getLayout=function(e){return void 0===e&&(e={}),(0,n.__awaiter)(this,void 0,void 0,(function(){var t,r,o,l,d,f,h,y=this;return(0,n.__generator)(this,(function(v){switch(v.label){case 0:return v.trys.push([0,2,3,4]),t=e.replaceUrl,r=void 0!==t&&t,o=e.routerMethod,l=void 0===o?"push":o,d=(0,n.__rest)(e,["replaceUrl","routerMethod"]),f=function(e,data){var t=e.layout,n=c()(data,"pageInfo.url");y.replaceStateByPath({path:"layout",value:t}),r&&n&&window.location.pathname!==n&&y.$composerRouter[l](n,{silent:!0})},[4,this.updateComposerLayout({params:d,beforeMergeState:f,replace:!0})];case 1:return[2,v.sent()];case 2:return h=v.sent(),this.$logger.error({exception:h,zone:"composer-actions"}),[2,!1];case 3:return this.emit("GET_LAYOUT"),[7];case 4:return[2]}}))}))},t.prototype.getModal=function(e){return(0,n.__awaiter)(this,void 0,void 0,(function(){var t,r,o,c,d,f,h,y,v,_,m,w,S,E=this;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),t=e.url,r=void 0===t?"":t,o=e.mapper,c=e.options,d=void 0===c?{}:c,f=e.customLayout,h=e.method,y=e.payload,v=e.useUpdateComposerLayout,_=void 0!==v&&v,/\/modal\//.test(r)&&!_?(m="post"===h?y:void 0,this.$tracker.send(l.rr.OPEN,{composerEvent:{custom:{type:"popup",url:r}}}),this.$composerRouter.push(r,{contextOptions:d,postBody:m}),[2]):(w=function(e,data){var t=e.layout,n=e.layoutModal,o=d.showModal;"function"==typeof o&&(d.showModal=o(data)),void 0===o&&(d.showModal=!0),E.$composerRouter.setContextOptions(d),E.$composerStore.setLayoutModalOptions({isShown:d.showModal,url:r}),E.$composerStore.setLayoutModal(n&&n.length?n:t)},f?(w({layoutModal:f,layout:null},{}),[2,void 0]):(this.$composerRouter.setContextOptions(d),this.$composerStore.setLayoutModalOptions({isShown:!0,url:r}),this.$tracker.send(l.rr.OPEN,{composerEvent:{custom:{type:"popup",url:r}}}),(0,k.tj)({action:"PURGE_SW_PAGINATOR_CACHE"}),!0,[4,this.updateComposerLayout({params:{url:r,mapper:o,forbidRedirect:true,method:h,payload:y},afterMergeState:w,context:"modal"})]));case 1:return[2,n.sent()];case 2:return S=n.sent(),this.$logger.error({exception:S,zone:"composer-actions"}),[2,!1];case 3:return this.emit("GET_MODAL",e),[7];case 4:return[2]}}))}))},t.prototype.getNotify=function(e){return(0,n.__awaiter)(this,void 0,void 0,(function(){var t,r,o,c,l,d,f,h,y=this;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=e.url,r=void 0===t?"":t,o=e.mapper,c=e.options,d=(l=void 0===c?{showNotify:!0,atoms:[]}:c).atoms&&l.atoms.length?{layout:l.atoms||[]}:void 0,f=function(e,data){var t=e.layout,r=e.layoutNotify;y.$composerStore.setLayoutNotifyOptions({options:l,data:data}),y.$composerStore.setLayoutNotify(r&&r.length?r:t)},[4,this.updateComposerLayout({params:{url:r,mapper:o,pageData:d},afterMergeState:f})];case 1:return[2,n.sent()];case 2:return h=n.sent(),this.$logger.error({exception:h,zone:"composer-actions"}),[2,!1];case 3:return[2]}}))}))},t.prototype.reinitAnalytics=function(){var e=this.$config.get("gtmKey");this.$tracker.reinitDataLayer(e)},t.prototype.setComposerLayout=function(e){return(0,n.__awaiter)(this,void 0,void 0,(function(){var t,r;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,3,4]),t={pageData:e.pageData,widgetsData:e.widgetsData},[4,this.updateComposerLayout({params:t,replace:!0})];case 1:return[2,n.sent()];case 2:return r=n.sent(),this.$logger.error({exception:r,zone:"composer-actions"}),[2,void 0];case 3:return this.emit("SET_COMPOSER_LAYOUT"),[7];case 4:return[2]}}))}))},t.prototype.getComposerLayout=function(e){return(0,n.__awaiter)(this,void 0,void 0,(function(){var t,r,o,l,d,data,f,h,y,v,_,m,w,S;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=e.url,r=e.payload,o=e.method,l=e.forbidRedirect,d=e.context,[4,this.getParsedApiResponse({url:t,payload:r,method:o,context:d})];case 1:return(data=n.sent())&&"object"==typeof data?(f=c()(data,"pageInfo.url"),h=this.$composerStore.state._get("client.version"),y=c()(data,"client.version"),v=c()(data,"browser.useSpa"),_=c()(data,"client.jsonVersionChanged"),m=h&&y&&h!==y,l||!m&&!_?[2,data]:(v||(0,k.tj)({action:"PURGE_SW_ALL_CACHE"}),this.$composerRouter.redirect(f),[2,void 0])):[2,!1];case 2:return w=n.sent(),(S=(0,O.getRequestStatus)())!==N.Hx&&this.$logger.error({message:E._.COMPOSER_FETCH_LAYOUT,exception:w,zone:"composer-actions"}),this.replaceStateByPath({path:"shared.loading",value:S}),[2,S];case 3:return[2]}}))}))},t.prototype.getParsedApiResponse=function(e){return(0,n.__awaiter)(this,void 0,Promise,(function(){var t,r,o,c,l,d,f,v,_,E,I,k,N,P,data;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:if(t=e.url,r=e.method,o=void 0===r?"get":r,c=e.payload,l=void 0===c?{}:c,d=e.redirectUrl,f=e.needRedirect,v=void 0===f||f,_=e.context,this.promises[_]&&this.promises[_].cancel(),!O.ALLOWED_JSON_API_METHODS.includes(o))throw(E=new h.ApiLoggerError(T.b.COMPOSER_API_METHOD_NOT_ALLOWED)).setPayloadValue("method",o),E;return I=this.$config.get("enableParticleSpa")?"jsonSpa":"json",k=this.$config.get("useSpaPrefetch"),d?(N={url:t,payload:l,redirectUrl:d},this.promises[_]=m.registry.use(S.RootService).default(o,N)):(P=I+o[0].toUpperCase()+o.slice(1),this.promises[_]=m.registry.use(w.ComposerService)[P]({url:t,payload:l})),[4,this.promises[_]];case 1:return data=n.sent(),this.promises[_]=null,data instanceof ReadableStream?[4,(0,O.parseWithParticleCheck)(data,k)]:[3,3];case 2:data=n.sent(),n.label=3;case 3:return data&&"object"==typeof data?data.spaRedirect&&"string"==typeof data.spaRedirect?[2,this.getParsedApiResponse({redirectUrl:data.spaRedirect,method:o,needRedirect:v,context:_})]:Boolean(data.redirect&&"string"==typeof data.redirect)&&v?(window.location.assign(data.redirect),[2,!1]):(void 0===data.nextPage&&(data.nextPage=""),(0,y.tf)(data),[2,data]):[2,!1]}}))}))},t.prototype.fetchComposerLayout=function(e){return(0,n.__awaiter)(this,void 0,void 0,(function(){var t,r,o,c,l,d,data,f,h;return(0,n.__generator)(this,(function(y){switch(y.label){case 0:return y.trys.push([0,2,,3]),t=e.url,r=e.mapper,o=e.payload,c=e.method,l=e.forbidRedirect,d=e.context,this.replaceStateByPath({path:"shared.loading",value:N.Zs}),[4,this.getComposerLayout({url:t,payload:o,method:c,forbidRedirect:l,context:d})];case 1:return(data=y.sent())===N.Hx?[2,N.Hx]:data&&"object"==typeof data?(this.replaceStateByPath({path:"shared.loading",value:N.sW}),data.shared=Object.assign({},this.$composerStore.state._get("shared",{}),data.shared),"object"==typeof data.browser&&(data.browser.cspNonce=this.$composerStore.state._get("browser.cspNonce")),r&&"function"==typeof r&&(data=r(data)),f=data.widgetStates,[2,{pageData:(0,n.__rest)(data,["widgetStates"]),widgetsData:f}]):[2,!1];case 2:return h=y.sent(),this.$logger.error({exception:h,zone:"composer-actions"}),this.replaceStateByPath({path:"shared.loading",value:(0,O.getRequestStatus)()}),[2,!1];case 3:return[2]}}))}))},t.prototype.updateComposerLayout=function(e){return(0,n.__awaiter)(this,void 0,void 0,(function(){var t,r,o,c,l,d,h,y,v,w,S,T,k,N,P,A,x,C,L,R;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,4,5]),t=e.params,r=e.afterMergeState,o=e.beforeMergeState,c=e.context,l=void 0===c?"page":c,d=e.replace,h=void 0!==d&&d,y=t.url,v=t.mapper,w=t.payload,S=t.method,T=t.pageData,k=t.widgetsData,N=t.forbidRedirect,A=k,(P=T)?[3,2]:[4,this.fetchComposerLayout({url:y,mapper:v,payload:w,method:S,forbidRedirect:N,context:l})];case 1:(x=n.sent())&&"object"==typeof x&&(P=x.pageData,A=x.widgetsData),n.label=2;case 2:if(!P||Object.keys(P).length<1)throw(C=new f.LoggerError(E._.COMPOSER_EMPTY_DATA)).setPayloadValue("invalidType",null===P?"null":typeof P),C;return L=(0,I.ei)(P,O.LAYOUT_KEYS),h||O.LAYOUT_KEYS.forEach((function(e){return delete P[e]})),"function"==typeof o&&o(L,P),h?this.setRootState(P):this.mergeRootState(P),null!=A&&m.registry.use(_.ClientWidgetStates).next(A,{replace:h}),"function"==typeof r&&r(L,P),[2,P];case 3:return R=n.sent(),this.$logger.error({exception:R,zone:"composer-actions"}),[2,!1];case 4:return this.emit("UPDATE_COMPOSER_LAYOUT"),[7];case 5:return[2]}}))}))},t.prototype.closeModal=function(){var e=this.$composerStore.state._get("layoutModal.length")||0,t=this.$composerStore.state._get("layoutModalOptions.url")||"";e&&(this.$tracker.send(l.rr.CLOSE_ACTION,{composerEvent:{cell:{},custom:{type:"popup",url:t}}}),(0,k.tj)({action:"PURGE_SW_PAGINATOR_CACHE"}),this.$composerStore.setLayoutModal([])),this.$composerStore.setLayoutModalOptions({isShown:!1}),this.$composerRouter.setContextOptions(null),this.$composerRouter.setContext(d.ContextKey.PAGE),this.emit("CLOSE_MODAL")},t.prototype.closeNotify=function(){this.$composerStore.setLayoutNotify([]),this.$composerStore.setLayoutNotifyOptions({options:{showNotify:!1}})},t.prototype.cancelPromise=function(e){var t=(void 0===e?{}:e).context,r=void 0===t?"page":t;this.promises[r]&&this.promises[r].cancel()},t.prototype.removeWidgetByStateId=function(e){if(!e)throw new f.LoggerError(E._.WIDGET_NO_STATE_ID);this.$composerStore.removeWidgetByStateId({stateId:e})},t.prototype.setWidgetPlaceholderByStateId=function(e){var t=e.stateId,r=e.placeholder;if(!t)throw new f.LoggerError(E._.WIDGET_NO_STATE_ID);this.$composerStore.setWidgetPlaceholderByStateId({stateId:t,placeholder:r})},t.prototype.replaceSharedStore=function(e){var t=this;void 0===e&&(e={});var r=e.vertical,n=e.verticalShared,o=void 0===n?{}:n;if(!r||!o)throw new f.LoggerError(E._.WIDGET_ASYNC_NO_VERTICAL);Object.keys(o).forEach((function(e){var n={path:[r,"shared",e].join("."),value:o[e]},c={path:["shared",e].join("."),value:o[e]};t.replaceStateByPath(n),t.replaceStateByPath(c)}))},t.prototype.replaceStateByPath=function(e){void 0===e&&(e={});var path=e.path,t=e.value;if(!path||void 0===t)throw new f.LoggerError(E._.WRONG_REPLACE_PARAMS);this.$composerStore.deepSet({path:path,value:t})},t.prototype.setRootState=function(data){this.$composerStore.setRootState(data),this.$tracker.legacyAnalyticsByKeyService.setTrackingPayloads(this.$composerStore.state._get("trackingPayloads",{})),window.__NUXT__.state=this.$composerStore.state},t.prototype.mergeRootState=function(data){this.$composerStore.mergeRootState(data),this.$tracker.legacyAnalyticsByKeyService.setTrackingPayloads(this.$composerStore.state._get("trackingPayloads",{}))},t}(v.AbstractActionsService)},"2b29f":function(e,t,r){r.r(t)},"639e3":function(e,t,r){r.r(t),r.d(t,{ALLOWED_JSON_API_METHODS:function(){return d},LAYOUT_KEYS:function(){return l},getRequestStatus:function(){return f},parseWithParticleCheck:function(){return y}});var n=r("98bae"),o=r("29443"),c="\x3c!---json_separator---\x3e",l=["layout","layoutModal","layoutNotify"],d=["get","post"];function f(){return o.mt}function h(e,t){return void 0===e&&(e=""),(0,n.__awaiter)(this,void 0,void 0,(function(){var o,c,l;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return n.trys.push([0,3,,4]),o=JSON.parse(e),c=[],t&&o.critical&&o.critical.length?(o.critical.forEach((function(e){c.push(r.e(e))})),[4,Promise.all(c)]):[3,2];case 1:n.sent(),n.label=2;case 2:return t&&o.assets&&o.assets.length&&o.critical.forEach((function(e){r.e(e)})),[3,4];case 3:return l=n.sent(),console.log(l),[3,4];case 4:return[2]}}))}))}function y(e,t){return void 0===t&&(t=!1),(0,n.__awaiter)(this,void 0,Promise,(function(){var r,o,l,d,f,y,v,_;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:r=e.getReader(),o=new TextDecoder("utf-8"),l="",n.label=1;case 1:return[4,r.read()];case 2:return d=n.sent(),f=d.value,y=d.done,v=o.decode(f),(_=v.indexOf(c))>0?[4,h(l+v.substr(0,_),t)]:[3,4];case 3:return n.sent(),l=v.substr(_+c.length),[3,5];case 4:l+=v,n.label=5;case 5:return y?[3,6]:[3,1];case 6:return[2,JSON.parse(l)]}}))}))}},"03a25":function(e,t,r){r.r(t),r.d(t,{ComposerService:function(){return d}});var n=r("98bae"),o=r("efd73"),c=r("fa175"),l=r("a71d3"),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.serviceName="composer",t.servicePath=c.p,t}return(0,n.__extends)(t,e),t.prototype.jsonGet=function(e){var t=e.url,r=e.version,n=void 0===r?2:r,o=e.payload;return this.fetch({overrideServicePath:(0,l.a)(this.$composerStore,n),method:"get",path:"/page/json/v"+n+"?url="+encodeURIComponent(t)},o)},t.prototype.jsonPost=function(e){var t=e.url,r=e.version,n=void 0===r?2:r,o=e.payload;return this.fetch({overrideServicePath:(0,l.a)(this.$composerStore,n),method:"post",path:"/page/json/v"+n+"?url="+encodeURIComponent(t)},o)},t.prototype.jsonSpaGet=function(e){var t=e.url,r=e.payload;return this.fetch({responseType:"stream",method:"get",path:"/page/json/spa?url="+encodeURIComponent(t)},r)},t.prototype.jsonSpaPost=function(e){var t=e.url,r=e.payload;return this.fetch({responseType:"stream",method:"post",path:"/page/json/spa?url="+encodeURIComponent(t)},r)},t.prototype.widget=function(e){return this.fetch({method:"post",path:"/widget/json/v2"},{asyncData:e.asyncHash,extraBody:e.extraBody,url:e.url,componentName:e.url})},t.prototype.suggestions=function(e){var text=e.text,t=e.currentUrl,r=e.version,n=void 0===r?2:r,o=e.searchUrl,path="/page/json/v"+n+"?";return path+="url="+(encodeURIComponent("/"+(void 0===o?"searchSuggestions":o)+"/?text=")+encodeURIComponent(encodeURIComponent(text))),t&&(path+=encodeURIComponent("&url=")+encodeURIComponent(t)),this.fetch({method:"get",path:path},{})},t.prototype.catalogFeedbackData=function(){return this.fetch({method:"post",path:"/page/json/v1?url="+encodeURIComponent("/catalogFeedbackData")})},t.prototype.actionPost=function(e){var t=e.name,data=e.data,r=e.widgetToken;return this.fetch({method:"post",path:"/_action/"+t,widgetToken:r},data).catch(this.rejectWithResponse)},t.prototype.actionGet=function(e){var t=e.name,r=e.query,n=e.widgetToken;return this.fetch({method:"get",path:"/_action/"+t,widgetToken:n},r).catch(this.rejectWithResponse)},t}(o.AbstractApiService)},"3b718":function(e,t,r){r.r(t),r.d(t,{RootService:function(){return o}});var n=r("98bae"),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.serviceName="root",t.servicePath="/",t.serviceVersion="",t}return(0,n.__extends)(t,e),t.prototype.default=function(e,t){return this.fetch({fromRoot:!0,responseType:"stream",method:e,path:t.redirectUrl},t)},t}(r("efd73").AbstractApiService)},"75f7f":function(e,t,r){r.r(t),r.d(t,{registry:function(){return c}});var n=r("a4a2f"),o=r("5665c"),c=new(function(){function e(){this.services=new Map}return e.prototype.configure=function(e){this.deps?Object.assign(this.deps,e):this.deps=Object.assign({},e)},e.prototype.use=function(e){var t=this.services.get(e);if(!t){if("function"!=typeof e||!e.prototype)throw new o.LoggerError(n.c.REGISTRY_USE_RECEIVED_NONCONSTRUCTOR);t=new e({deps:this.deps}),this.services.set(e,t)}return t},e}())},a78d5:function(e,t,r){var n,o=r("98bae"),c=r("a85f8"),l=r.n(c),d=r("b447a"),f=r.n(d),h=r("dbe45"),y=r("7d854"),v=r.n(y),_=!1,m={setup:function(e){_||(n=e)},getDayjsLocaleData:function(e){return v().Ls[e]},get dayJs(){return _||(_=!0,"function"==typeof n&&(n(v()),n=null)),v()}};if(window.__i18n__){var w=window.__i18n__,S=w.dayjsLocaleData,E=w.buildDatesData;m.setup((function(e){e.extend(f()),e.locale(S(),null,!0)})),(0,h.setDatesLocalizedDataLazyBuilder)("default",(function(){return E(S)}))}var T=r("21bdb"),I=r.n(T),k=r("bd7eb"),N=r("5fe81"),O=r("38331"),P=r("1a8df"),A=r("88568"),x=r("75f7f"),C=r("e078b");var L=r("d5b77");var R=r("02004"),$=r("de474"),j=r("6eba1"),M=r("8a988"),D=r("18496"),W=r("3fed9"),U=r("7ee67"),V=r("85b6e"),B=r("1dccf"),G=r("d208a"),meta=r("b3cf4"),F=r("b3500"),z=r("fd290"),H=r("69a7a"),K=r("37a5e"),Z=r("82c63"),J=r("5350d"),Y=r("17d9f"),X=function(){function e(){this.singletons={},this.servicesInits={}}return e.prototype.register=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];this.servicesInits[e]=(0,o.__spread)([t],r)},e.prototype.registerEager=function(e,t){for(var r=[],n=2;n<arguments.length;n++)r[n-2]=arguments[n];return this.register.apply(this,(0,o.__spread)([e,t],r)),this.resolve(e)},e.prototype.resolve=function(e){if(!this.singletons[e]){var t=this.servicesInits[e];if(t){var r=(0,o.__read)(t),n=r[0],c=r.slice(1);delete this.servicesInits[e],this.singletons[e]=new(n.bind.apply(n,(0,o.__spread)([void 0],c)))}}return this.singletons[e]},e}(),Q=function(){},ee=function(e){function t(t){var r=e.call(this)||this;return r.configurationObj=(0,o.__assign)({},t),r}return(0,o.__extends)(t,e),t.prototype.get=function(e){return I()(this.configurationObj,e)},t}(Q),te=function(e){function t(t){var r=t.language,n=t.translations,o=t.pluralizer,c=e.call(this)||this;return c.language=r,c.pluralizer=o,c._translationsSource=n,c}return(0,o.__extends)(t,e),Object.defineProperty(t.prototype,"translations",{get:function(){return this._translations||(this._translations=new Map(Object.entries(this._translationsSource()||{})),this._translationsSource=null),this._translations},enumerable:!1,configurable:!0}),t.prototype.getCurrentLanguage=function(){return this.language},t.prototype.t=function(e,t){void 0===t&&(t={});var r=this.translations.get(e)||t.fallback||e;return this.f(r,t.substitutions||{})},t.prototype.p=function(e,t){return t[this.pluralizer(e)]},t.prototype.dayJs=function(e,t,r){return m.dayJs(e,t,r).locale(this.getCurrentLanguage())},t.prototype.dayJsUnix=function(e){return m.dayJs.unix(e).locale(this.getCurrentLanguage())},t.prototype.f=function(e,r){return e.replace(t.placeholderRegex,(function(e,t){if("'"===e.charAt(0))return e.substring(1);var n=r[t];return null!=n?String(n):""}))},t.placeholderRegex=/'?{(.*?)}/g,t}(Q),re=function(e){function t(t){var r=window.__i18n__||{};return e.call(this,{language:t,pluralizer:r.pluralizer||function(e){return e},translations:r.translations||function(){return{}}})||this}return(0,o.__extends)(t,e),t}(te),ne=r("25634"),oe=r("fea03"),ie=r("b491a"),ae={requests:5,debug:4,info:3,warning:2,error:1,critical:0},se=["url","exception","stackTrace","userId","uuid","abGroup","payload","message","zone","serviceName","browser","platform","isMobile","errorCode","traceId","xcid","layoutId","response","traceId","experimentsConfig","pageType","disallowNames","disallowIds","nonexistNames","nonexistIds","component","placeholderName","serviceName","error","vertical","stateId","widget","requestUrl","method","isMobile","isModern","debugInfo","forceMode","layout","layoutModal","layoutNotify","requestedStateId","triggerMutation","requestID","methodName","eventName","invalidType","invalidValue","assetSrc"],ce=function(e){function t(t,r){var n=e.call(this)||this;return n.composerStore=t,n.composerRouter=r,n}return(0,o.__extends)(t,e),t.parseException=function(e){return e instanceof Error?{message:e.toString(),stackTrace:e.stack}:{}},t.parseData=function(data){void 0===data&&(data={}),"object"==typeof data&&data.exception instanceof ne.s&&(data=(0,o.__assign)((0,o.__assign)({},data),data.exception));var e={};if("function"==typeof data.toLoggerMessage){var r=data.toLoggerMessage(),n=r.payload,c=void 0===n?{}:n,l=r.message,d=void 0===l?{}:l;e.message=c.serviceName?d.value+" from service "+c.serviceName:d.value,e.zone=data.zone||d.zone,e.errorCode=d.errorCode,e.stack=data.stack,e.stackTrace=data.stack,e.exception=data.toString(),e.serviceName=c.serviceName,e.uuid=c.uuid,e.requestUrl=c.requestUrl,e.method=c.method,e.component=c.component,e.placeholderName=c.placeholderName,e.disallowNames=c.disallowNames,e.disallowIds=c.disallowIds,e.nonexistNames=c.nonexistNames,e.nonexistIds=c.nonexistIds,e.response=c.response,e.error=c.error,e.vertical=c.vertical,e.stateId=c.stateId,e.widget=c.widget,e.invalidType=c.invalidType,e.invalidValue=c.invalidValue,e.assetSrc=c.assetSrc,e.eventName=c.eventName,e.methodName=c.methodName,d.value===ie._.WIDGET_NOT_FOUND_STATE_ID.value&&(e.layout=c.layout,e.layoutModal=c.layoutModal,e.layoutNotify=c.layoutNotify,e.requestedStateId=c.requestedStateId,e.triggerMutation=c.triggerMutation),e.debugInfo=data.getDebugInfo()}else data instanceof Error?Object.assign(e,t.parseException(data)):"object"==typeof data?(Object.assign(e,data),"object"==typeof data.message&&(e.message=data.serviceName?data.message.value+" from service "+data.serviceName:data.message.value,e.zone=data.message.zone,e.errorCode=data.message.errorCode)):e.payload=JSON.stringify(data,null," ");return e},t.prototype.log=function(data,e,r){void 0===data&&(data={}),void 0===e&&(e={}),void 0===r&&(r=data.level);var n={},c={};try{var l=this.composerStore.state._get("browser",{}),d=this.composerStore.state._get("debug",{}),f=this.composerStore.state._get("pageInfo",{}),h=this.composerStore.state._get("requestID");Object.assign(n,{browser:l.browser,platform:this.composerStore.state._get("client.platform"),isMobile:Boolean(l.isMobile),traceId:d.composer&&d.composer.traceId,xcid:d.xcid,experimentsConfig:this.composerStore.state._get("experimentsConfig",{}),url:this.composerRouter.current,pageType:f.pageType,layoutId:f.layoutId,isModern:"modern"===l.age,requestID:h})}catch(e){this.platformLog({message:oe.b.GETTING_STORE_FIELDS_ERROR,exception:e,level:ae.critical})}try{Object.assign(n,{userId:this.composerStore.state._get("userInfo.user.userId")})}catch(e){this.platformLog({message:oe.b.GETTING_STORE_FIELDS_ERROR,exception:e,level:ae.critical})}try{Object.assign(n,t.parseData(data))}catch(e){this.platformLog({message:oe.b.PARSING_ERROR,exception:e,level:ae.critical})}try{Object.assign(n,e)}catch(e){this.platformLog({message:oe.b.PARAMS_ERROR,exception:e,level:ae.critical})}se.forEach((function(e){return n[e]&&(c[e]=n[e])})),this.platformLog((0,o.__assign)((0,o.__assign)({},c),{level:ae[r]||Number(r)||ae.info}))},t.prototype.requests=function(data,e){void 0===data&&(data={}),void 0===e&&(e={}),this.log(data,e,ae.requests)},t.prototype.debug=function(data,e){void 0===data&&(data={}),void 0===e&&(e={}),this.log(data,e,ae.debug)},t.prototype.info=function(data,e){void 0===data&&(data={}),void 0===e&&(e={}),this.log(data,e,ae.info)},t.prototype.warning=function(data,e){void 0===data&&(data={}),void 0===e&&(e={}),this.log(data,e,ae.warning)},t.prototype.error=function(data,e){void 0===data&&(data={}),void 0===e&&(e={}),this.log(data,e,ae.error)},t.prototype.critical=function(data,e){void 0===data&&(data={}),void 0===e&&(e={}),this.log(data,e,ae.critical)},t}(Q),ue=function(e){function t(t,r,n){var o=e.call(this,t,r)||this;return o.config=n,o}return(0,o.__extends)(t,e),t.prototype.getLogger=function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){var e,t,n;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return this._logger?[3,2]:(e=this.composerStore.state._get("browser.isBot"),t=this.config.get("xapiDomain")+"/api/logs-gateway/input",[4,r.e("vendor-bxfelgr").then(r.t.bind(r,"672d5",23))]);case 1:n=o.sent().ClientLogger,this._logger=new n({apiUrl:t,level:this.config.get("logLevel"),token:this.config.get("gatewayKey"),isBot:e}),o.label=2;case 2:return[2,this._logger]}}))}))},t.prototype.getChunkName=function(e,t){if(t.includes("ozone.ru/s3/client-metrics/"))return"client-metrics";var r;switch(e){case"prod":r=/\.ozone\.ru\/assets\/(?<chunkName>[a-z0-9-_]+)\./;break;case"stg":r=/\.ozone\.ru\/s3\/[-a-z0-9]*assets\/[a-z0-9.-]+\/(?<chunkName>[a-z0-9-_]+)\./;break;case"local":r=/_nuxt\/(?<chunkName>[a-z0-9-_]+)\./}if(r){var n=t.match(r);if(n)return n.groups.chunkName}},t.prototype.addChunkNameInData=function(data){if(data&&data.exception&&data.exception.stack){var e=this.getChunkName(this.config.get("env"),data.exception.stack);e&&(data.chunkName=e),data.zone||(data.zone="script-error")}},t.prototype.platformLog=function(data){this.addChunkNameInData(data),this.getLogger().then((function(e){e.log(data)}))},t}(ce),le=r("13ecf"),de=r("c6188"),pe=r("cc753"),fe=r("f38c8"),he=r("9e5e3"),ge=r("ac1d9"),ye={components:{LayoutBlockVertical:r("af27f").default,LayoutNoSsr:function(){return new Promise((function(e){try{e(r("7916b").Z)}catch(t){e(r("a0260").Z)}}))}},mixins:[ge.default,(0,he.Q)({isMobile:function(e){var t=e.browser,r=void 0===t?{}:t;return Boolean(r.forceMobile||!r.forceDesktop&&r.isMobile)},isAccessibilityMode:function(e){return e._get("browser.accessibilityMode")},layout:function(e){return e.layout}})],computed:{placeholders:function(){return[{name:"default",widgets:this.layout}]}},mounted:function(){var e=this;this.afterRouteEnter((function(){(0,fe.y)(e.$composerStore,"PAGE")})),(0,fe.y)(this.$composerStore,"APPLICATION",!0)}},ve=ye,_e={layoutPage:"a0",desktop:"a1",mobile:"a2"},me={modAlly:"a"};var be=(0,r("b429c").default)(ve,(function(){var e,t=this,r=t.$createElement,n=t._self._c||r;return n("div",{class:[t.$style.layoutPage,(e={},e[t.$style.mobile]=t.isMobile,e[t.$style.desktop]=!t.isMobile,e[t.$ally.modAlly]=t.isAccessibilityMode,e)],attrs:{id:"layoutPage"}},[n("LayoutBlockVertical",{attrs:{placeholders:t.placeholders,"component-name":"blockVertical",vertical:"layout",root:""}}),t._v(" "),n("LayoutNoSsr")],1)}),[],!1,(function(e){this.$style=_e.locals||_e,this.$ally=me.locals||me}),null,null).exports,we=r("9f78d"),Se=r("83e07"),Ee=r("75d4a"),Te=Object.assign({},{asyncType:{type:String,validator:function(e){return we.l.indexOf(e)>=0||void 0===e}},asyncHash:{type:String,default:""},trackingOn:{type:Boolean,default:!1},layoutPath:{type:String,default:""},index:{type:Number,default:0},platform:{type:String,default:""},widgetState:{type:String,default:"{}"},params:{type:String,default:"{}"},widgetTrackingInfo:Ee.t.trackingInfoProp},(0,o.__assign)({},(0,Se.CE)(Ee.t,["trackingInfoProp","widgetInitialState"])),{componentName:{type:String,default:""},vertical:{type:String,default:""}}),Ie={props:(0,o.__assign)({useWidgetRender:{type:Boolean,default:!1},useBlockRender:{type:Boolean,default:!1}},Te),provide:function(){var e=(0,he.l)(this),t=e.state._get("browser",{}),r=e.state._get("experimentsConfig",{});return{useWidgetRender:this.useWidgetRender,useBlockRender:this.useBlockRender,layoutPath:this.layoutPath,useWebP:Boolean(t.webp),useAvif:Boolean(t.avif)&&Boolean(r.enableAVIF),disableGalleryImage:Boolean(r.disableGalleryImage),disableMobileGalleryImage:Boolean(r.disableMobileGalleryImage),cdnImgHostname:t.cdnImgHostname,cdnOriginalImgHostname:t.cdnOriginalImgHostname,cdnVideoHostname:t.cdnVideoHostname,isDisableSrcSet:Boolean(r.disableSrcSet),alternativeHost1200:Boolean(r.alternativeHost1200),ignoreLazy:Boolean(t.ignoreLazy),isMobile:Boolean(t.forceMobile||!t.forceDesktop&&t.isMobile)||Boolean(t.accessibilityMode),isTesting:Boolean(e.state._get("o3Params.x-o3-ui-tests")),isAccessibilityMode:Boolean(t.accessibilityMode),disableImages:Boolean(t.disableImages),sizeMode:t.sizeMode,colorMode:t.colorMode,isBlankForMobile:Boolean(r.isBlankForMobile),pageType:e.state._get("pageInfo.pageType","")}}},ke=r("4b060"),Ne=r.n(ke),Oe=(0,o.__assign)((0,o.__assign)({},Ne()),{name:"NoSsr"});function Pe(e){var t="__plugin_"+e+"_installed__";l()[t]||(l()[t]=!0,l().use((function(){l().prototype.hasOwnProperty(e)||Object.defineProperty(l().prototype,e,{get:function(){return this.$root.$options[e]}})})))}l().component(Oe.name,Oe);var Ae=Object.entries({$config:"Config",$logger:"Logger",$tracker:"Tracker",$i18n:"Internationalization"});var xe=r("49886"),Ce=r("e374c"),Le=r("20f02");function Re(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var r=Array.isArray(e[0])?[]:{};return e.forEach((function(e){Object.entries(e).forEach((function(e){var t=(0,o.__read)(e,2),n=t[0],c=t[1],l=r[n],d=c;(0,Se.Kn)(l)&&(0,Se.Kn)(d)?r[n]=Re(l,d):void 0===d?r[n]=(0,Se._Z)(l)?Re(l):l:(0,Se._Z)(d)?r[n]=Re(d):r[n]=d}))})),r}function $e(e,t,r){var n=r.layout,o=r.layoutModal,c=r.layoutNotify,l=r.triggerMutation,d=r.stateId;t instanceof Le.WidgetError&&(t.setPayloadValue("layout",JSON.stringify(n)),t.setPayloadValue("layoutModal",JSON.stringify(o)),t.setPayloadValue("layoutNotify",JSON.stringify(c)),t.setPayloadValue("requestedStateId",d),t.setPayloadValue("triggerMutation",l)),e.error(t)}var je=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];if(r.stateId===t)return{layer:e,widgetIndex:i};if(r.placeholders&&r.placeholders.length)for(var n=0;n<r.placeholders.length;n++){var o=je(r.placeholders[n].widgets,t);if(o)return o}}return!1};function Me(e,t){var r,n;if(!t)return!1;try{for(var c=(0,o.__values)(["layout","layoutModal","layoutNotify"]),l=c.next();!l.done;l=c.next()){var d=l.value;if(e[d]&&e[d].length){var f=je(e[d],t);if(f)return f}}}catch(e){r={error:e}}finally{try{l&&!l.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}return!1}var De=function(e){function t(t,r){var n=e.call(this,t,{noFreezeServerState:!0})||this;return n._composerData=r,n}return(0,o.__extends)(t,e),t.prototype.getInitialState=function(){var e=this._composerData;return this._composerData=null,e},t.prototype.setRootState=function(body){var e=this;this.pushState((function(){var t=function(e,body){var t=Object.prototype.hasOwnProperty.call(body,"layoutModal"),r=I()(body,"trackingPayloads",{});return t?{trackingPayloads:Object.assign({},I()(e,"trackingPayloads",{}),r)}:{trackingPayloads:r}}(e.state,body);return Object.assign({},e.state,body,t)}))},t.prototype.mergeRootState=function(body){this.pushState((function(e){Object.assign(e,Re({},e,body))}))},t.prototype.setComposerDebug=function(data){this.pushState((function(e){Object.assign(e.debug,data)}))},t}(Ce.AbstractStoreService),We=r("08986");var Ue=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,o.__extends)(t,e),t.prototype.deepSet=function(e){this.pushState((function(t){e.map&&"function"==typeof e.map&&(e.value=e.map(e.value),delete e.map),(0,xe.vueSet)(t,e.path,e.value)}))},t.prototype.removeWidgetByStateId=function(e){var t=this,r=e.stateId;this.pushState((function(e,n){try{var o=Me(e,r);if(o)return void l().delete(o.layer,o.widgetIndex);throw new Le.WidgetError(ie._.WIDGET_NOT_FOUND_STATE_ID)}catch(o){n(),$e(t.$logger,o,{layout:e.layout,stateId:r,triggerMutation:"removeWidgetByStateId",layoutModal:e.layoutModal||"none",layoutNotify:e.layoutNotify||"none"})}}))},t.prototype.setWidgetPlaceholderByStateId=function(e){var t=this,r=e.stateId,n=e.placeholder;this.pushState((function(e,o){try{var c=Me(e,r);if(c)return void function(e,t,r){if(e[t].placeholders){var n=(0,We.ph)(e[t].placeholders,r.name);if(!n.name){var o=e[t].placeholders.length;return void l().set(e[t].placeholders,o,r)}for(var c=e[t].placeholders.indexOf(n),i=0;i<r.widgets.length;i++)o=e[t].placeholders[c].widgets.length,l().set(e[t].placeholders[c].widgets,o,r.widgets[i])}else l().set(e[t],"placeholders",[r])}(c.layer,c.widgetIndex,n);throw new Le.WidgetError(ie._.WIDGET_NOT_FOUND_STATE_ID)}catch(n){o(),$e(t.$logger,n,{layout:e.layout,stateId:r,triggerMutation:"setWidgetPlaceholderByStateId",layoutModal:e.layoutModal||"none",layoutNotify:e.layoutNotify||"none"})}}))},t.prototype.setLayoutModal=function(e){this.pushState((function(t){l().set(t,"layoutModal",e)}))},t.prototype.setLayoutModalOptions=function(e){var t=e.isShown,r=e.url;this.pushState((function(e){l().set(e,"layoutModalOptions",{isShown:t,url:r})}))},t.prototype.setLayoutNotify=function(e){this.pushState((function(t){l().set(t,"layoutNotify",e)}))},t.prototype.setLayoutNotifyOptions=function(e){var t=e.options,r=void 0===t?{}:t,data=e.data;this.pushState((function(e){var t=void 0===r.showNotify||r.showNotify,n=(0,o.__assign)((0,o.__assign)({},r),{showNotify:t});"function"==typeof t&&(n.showNotify=t(data)),n.atoms&&n.atoms.length&&(n.nuclear=!0,delete n.atoms),l().set(e.shared,"layoutNotifyOptions",n)}))},t.prototype.setSharedState=function(e){void 0===e&&(e={}),this.pushState((function(t){l().set(t,"shared",Object.assign({},t.shared,e))}))},t.prototype.setTrackingPayloads=function(e){void 0===e&&(e={}),this.pushState((function(t){l().set(t,"trackingPayloads",Object.assign({},t.trackingPayloads,e))})),this.$tracker.legacyAnalyticsByKeyService.setTrackingPayloads(this.state.trackingPayloads)},t.prototype.setLocationState=function(e){void 0===e&&(e={}),this.pushState((function(t){l().set(t,"location",Object.assign({},t.location,e))}))},t.prototype.setVerticalInfo=function(e){this.pushState((function(t){t.verticalInfo=Object.assign(t.verticalInfo||{},e)}))},t}(De),Ve=r("2374a"),Be=r("e014f");r("a48f2"),r("9be37"),r("79b34"),r("0821a"),r("31886"),r("35674"),r("471ef"),r("2b4f1");(0,de.gi)(),window.onAppReadyCbs=[],window.onAppReady=function(e){window.onAppReadyCbs.push(e)};l().config.devtools=("string"==typeof window.__NUXT__.state?window.__NUXT__.state.indexOf('"x-o3-vue-devtools":"true"')>=0:I()(window.__NUXT__.state,["o3Params","x-o3-vue-devtools"]))||le.yG;var Ge=function(e){return(0,o.__awaiter)(void 0,void 0,void 0,(function(){function t(e,t,r){var n=e.resolve("Config"),o=function(e,t){return{namespace:"bx",dev:!("prod"===e.get("env")),logs:{enable:t.state._get("experimentsConfig.enableTrackerLogs")||!1,host:e.get("xapiDomain")+"/v1/tracker-logs"},manager:{enable:Boolean(t.state._get("o3Params.x-o3-tracker-manager"))||Boolean((0,L.ej)(k.e7)),host:(0,L.ej)(k.QX)?k.Jz:void 0},metrics:{enable:Boolean(t.state._get("o3Params.x-o3-tracker-metrics"))||Boolean((0,L.ej)(k.Oy))},cspNonce:t.state._get("browser.cspNonce"),host:e.get("xapiDomain")+"/dlte/multi"}}(n,t),c=function(e){return{layoutTrackingInfo:e.state._get("layoutTrackingInfo",{}),browser:e.state._get("browser",{}),experimentsConfig:e.state._get("experimentsConfig",{}),pageToken:e.state._get("pageToken",{}),userToken:e.state._get("userToken",{})}}(t);e.register("Tracker",k.fs,o,c),e.register("Logger",ue,t,r,n),e.register("Internationalization",re,t.state._get("language",le.k$))}function r(e,t,r){return(0,o.__awaiter)(this,void 0,void 0,(function(){var n;return(0,o.__generator)(this,(function(o){switch(o.label){case 0:return n=function(e){return function(t,r){if(!t)throw new Error("inject(key, value) has no key provided");if(void 0===r)throw new Error("inject(key, value) has no value provided");e[t="$"+t]=r,Pe(t)}}(e),n("composerStore",r),n("composerRouter",t),(0,D.Z)(t),(0,Ve.Z)(e),(0,$.Z)(e),[4,(0,j.Z)(e)];case 1:return o.sent(),(0,W.Z)(e),(0,U.Z)(e,l().nextTick),(0,V.Z)(e),(0,B.Z)(),(0,G.Z)(e,l().nextTick),(0,meta.Z)(e),(0,M.Z)(e),(0,F.Z)(),(0,H.Z)(e),(0,K.Z)(e),(0,Be.Z)(r),(0,Z.Z)(e),(0,J.Z)(e),(0,Y.Z)(e),(0,z.Z)(),[2]}}))}))}var n,c,d,f,h,y,v,_;return(0,o.__generator)(this,(function(m){switch(m.label){case 0:"string"==typeof window.__NUXT__.state&&(window.__NUXT__.state=JSON.parse(window.__NUXT__.state)),l().config.silent=le.yv,l().config.performance=le.yG,(0,pe.N)(),(0,O.p)(N.Z),(0,P.pm)(N.Z),m.label=1;case 1:return m.trys.push([1,4,,5]),n={},window.__NUXT__&&window.__NUXT__.state&&(c=window.__NUXT__.state,Object.keys(c).forEach((function(e){n[e]=c[e]}))),(0,R.tf)(n),(0,R.bQ)(n),d=new Ue({deps:{diContainer:e}},n),(0,P.dT)(d),f=(0,P.qI)(d,N.Z).catch((function(e){console.error(e)})),h=(0,o.__assign)((0,o.__assign)({},Ie),{render:function(e){return e("div",{domProps:{id:"__ozon"}},[e(be)])}}),y=function(e,t){var r=t.state._get("pageInfo.referrer"),n=t.state._get("browser.useSpa"),c={get $logger(){return e.resolve("Logger")},reinitAnalytics:function(){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(e){return x.registry.use(C.ComposerActions).reinitAnalytics(),[2]}))}))},setComposerLayout:function(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,x.registry.use(C.ComposerActions).setComposerLayout(e)];case 1:return[2,t.sent()]}}))}))},fetchComposerLayout:function(e){return(0,o.__awaiter)(this,void 0,void 0,(function(){return(0,o.__generator)(this,(function(t){switch(t.label){case 0:return[4,x.registry.use(C.ComposerActions).fetchComposerLayout(e)];case 1:return[2,t.sent()]}}))}))}},l=new A.Router({baseUrl:"/",referrer:r,useSpa:n,app:c}),d=t.state._get("pageInfo.url"),f={currentUrl:l.current,newerUrl:d},h=(0,A.mergeUrl)(f);return l.replace(h,{silent:!0}),l}(e,d),t(e,d,y),x.registry.configure({composerStore:d,composerRouter:y,diContainer:e}),function(e){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];Ae.forEach((function(r){var n=(0,o.__read)(r,2),c=n[0],l=n[1];t.forEach((function(t){Object.defineProperty(t,c,{enumerable:!0,get:function(){return e.resolve(l)}})})),Pe(c)}))}(e,h),[4,r(h,y,d)];case 2:return m.sent(),[4,f];case 3:return m.sent(),(v=new(l())(h)).$mount("#__ozon"),l().nextTick((function(){window.onAppReadyCbs.forEach((function(e){"function"==typeof e&&e(v)}))})),[3,5];case 4:return _=m.sent(),(l().config.errorHandler||console.error)(_),[3,5];case 5:return[2]}}))}))};try{"string"==typeof window.__NUXT__.__CONFIG__&&(window.__NUXT__.__CONFIG__=JSON.parse(window.__NUXT__.__CONFIG__));var Fe=new X,ze=Fe.registerEager("Config",ee,window.__NUXT__.__CONFIG__||{}).get("invokeClientEntryDelay")||0;window.setTimeout((function(){Ge(Fe).catch((function(e){return console.error(e)}))}),ze)}catch(e){console.error(e)}},a0260:function(e,t,r){r.d(t,{Z:function(){return o}});var n={render:function(){return null}},o=(0,r("b429c").default)(n,undefined,undefined,!1,null,null,null).exports},ad9be:function(e,t,r){r.r(t),r.d(t,{default:function(){return _}});var n=r("98bae"),o=r("88568"),c=r("2e8b5"),l=r("78084"),d=r("9fd9a"),f={UNSET:"",SELF:"_self",BLANK:"_blank",PARENT:"_parent",TOP:"_top"},h="noopener",y=function(e){var t=e.props,r=e.attrs,c=e.listeners,h=e.$event;return(0,n.__awaiter)(void 0,void 0,Promise,(function(){var e,y,v,_,m,w;return(0,n.__generator)(this,(function(n){switch(n.label){case 0:return e=o.Router.getInstance(),!r.target&&t.href||!c.click?(y=function(e){var t=e.$event,r=e.props;return!(!t||!t.ctrlKey&&!t.metaKey&&2!==t.which&&r.target!==f.BLANK&&"auxclick"!==t.type)}({$event:h,props:t}),c.click&&c.click(h),h.defaultPrevented?[2]:"#"===t.href[0]?(v=(0,l.E)(t.href),_=v.hash,m=v.offsetTop,w=m?{offsetTop:m}:void 0,(0,d.X)("#"+_,300,w),[2]):(h.preventDefault(),t.href.startsWith("http")?(e.redirect(t.href,y?"_blank":"_self"),[2]):y?(e.redirect(t.href,"_blank"),[3,3]):[3,1])):(c.click(h),[2]);case 1:return[4,e[t.method](t.href,{silent:t.silent,scroll:t.scroll})];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},v={name:"ComposerLink",functional:!0,inject:{isBlankForMobile:{default:!1},isMobile:{default:!1},pageType:{default:""}},props:{href:c.default.oneOfType([c.default.string,c.default.bool]).def(!1),method:c.default.string.def("push"),silent:c.default.bool.def(!1),target:c.default.oneOf(Object.values(f)).def(f.UNSET),scroll:c.default.bool.def(!0),noBlank:c.default.bool.def(!1)},render:function(e,t){var data=t.data,r=t.props,o=t.listeners,c=t.children,l=t.injections;data.attrs=data.attrs||{};var d=l.isBlankForMobile,v=l.isMobile,_=l.pageType,m=r.noBlank;return d&&v&&"home"===_&&!m&&(r.target=f.BLANK),r.target===f.BLANK&&-1===(data.attrs.rel||"").indexOf(h)&&(data.attrs.rel=data.attrs.rel?data.attrs.rel+" "+h:h),e("a",(0,n.__assign)((0,n.__assign)({},data),{attrs:(0,n.__assign)((0,n.__assign)({},data.attrs),{target:r.target||!1,href:r.href||!1}),on:(0,n.__assign)((0,n.__assign)({},o),{click:function(e){return y({props:r,attrs:data.attrs,listeners:o,$event:e})},auxclick:function(e){return y({props:r,attrs:data.attrs,listeners:o,$event:e})}})}),c)}},_=(0,r("b429c").default)(v,undefined,undefined,!1,null,null,null).exports}}]);