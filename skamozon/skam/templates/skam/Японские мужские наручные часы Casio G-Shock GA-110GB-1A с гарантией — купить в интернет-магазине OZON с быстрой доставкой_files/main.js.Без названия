!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var r=t();for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(window,(function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=83)}([function(e,t,r){var n=r(53);e.exports=function(e,t,r){var o=null==e?void 0:n(e,t);return void 0===o?r:o}},function(e,t){e.exports=function(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}},function(e,t,r){var n=r(16),o="object"==typeof self&&self&&self.Object===Object&&self,i=n||o||Function("return this")();e.exports=i},function(e,t){var r=Array.isArray;e.exports=r},function(e,t,r){var n=r(39),o=r(42);e.exports=function(e,t){var r=o(e,t);return n(r)?r:void 0}},function(e,t,r){var n=r(17),o=r(37),i=r(14),a=r(3),s=r(23),c=r(25),u=r(18),p=r(27),f=Object.prototype.hasOwnProperty;e.exports=function(e){if(null==e)return!0;if(s(e)&&(a(e)||"string"==typeof e||"function"==typeof e.splice||c(e)||p(e)||i(e)))return!e.length;var t=o(e);if("[object Map]"==t||"[object Set]"==t)return!e.size;if(u(e))return!n(e).length;for(var r in e)if(f.call(e,r))return!1;return!0}},function(e,t,r){var n=r(7),o=r(33),i=r(34),a=n?n.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":a&&a in Object(e)?o(e):i(e)}},function(e,t,r){var n=r(2).Symbol;e.exports=n},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,r){var n=r(4)(Object,"create");e.exports=n},function(e,t,r){var n=r(70);e.exports=function(e,t){for(var r=e.length;r--;)if(n(e[r][0],t))return r;return-1}},function(e,t,r){var n=r(75);e.exports=function(e,t){var r=e.__data__;return n(t)?r["string"==typeof t?"string":"hash"]:r.map}},function(e,t,r){var n=r(28);e.exports=function(e){return(null==e?0:e.length)?n(e,1):[]}},function(e,t,r){var n=r(50),o=r(17),i=r(23);e.exports=function(e){return i(e)?n(e):o(e)}},function(e,t,r){var n=r(32),o=r(8),i=Object.prototype,a=i.hasOwnProperty,s=i.propertyIsEnumerable,c=n(function(){return arguments}())?n:function(e){return o(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=c},function(e,t,r){var n=r(6),o=r(8);e.exports=function(e){return"symbol"==typeof e||o(e)&&"[object Symbol]"==n(e)}},function(e,t,r){(function(t){var r="object"==typeof t&&t&&t.Object===Object&&t;e.exports=r}).call(this,r(31))},function(e,t,r){var n=r(18),o=r(35),i=Object.prototype.hasOwnProperty;e.exports=function(e){if(!n(e))return o(e);var t=[];for(var r in Object(e))i.call(e,r)&&"constructor"!=r&&t.push(r);return t}},function(e,t){var r=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}},function(e,t,r){var n=r(6),o=r(20);e.exports=function(e){if(!o(e))return!1;var t=n(e);return"[object Function]"==t||"[object GeneratorFunction]"==t||"[object AsyncFunction]"==t||"[object Proxy]"==t}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t){var r=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return r.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t,r){var n=r(4)(r(2),"Map");e.exports=n},function(e,t,r){var n=r(19),o=r(24);e.exports=function(e){return null!=e&&o(e.length)&&!n(e)}},function(e,t){e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=9007199254740991}},function(e,t,r){(function(e){var n=r(2),o=r(46),i=t&&!t.nodeType&&t,a=i&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===i?n.Buffer:void 0,c=(s?s.isBuffer:void 0)||o;e.exports=c}).call(this,r(26)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,r){var n=r(47),o=r(48),i=r(49),a=i&&i.isTypedArray,s=a?o(a):n;e.exports=s},function(e,t,r){var n=r(29),o=r(30);e.exports=function e(t,r,i,a,s){var c=-1,u=t.length;for(i||(i=o),s||(s=[]);++c<u;){var p=t[c];r>0&&i(p)?r>1?e(p,r-1,i,a,s):n(s,p):a||(s[s.length]=p)}return s}},function(e,t){e.exports=function(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}},function(e,t,r){var n=r(7),o=r(14),i=r(3),a=n?n.isConcatSpreadable:void 0;e.exports=function(e){return i(e)||o(e)||!!(a&&e&&e[a])}},function(e,t){var r;r=function(){return this}();try{r=r||new Function("return this")()}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n=r(6),o=r(8);e.exports=function(e){return o(e)&&"[object Arguments]"==n(e)}},function(e,t,r){var n=r(7),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,s=n?n.toStringTag:void 0;e.exports=function(e){var t=i.call(e,s),r=e[s];try{e[s]=void 0;var n=!0}catch(e){}var o=a.call(e);return n&&(t?e[s]=r:delete e[s]),o}},function(e,t){var r=Object.prototype.toString;e.exports=function(e){return r.call(e)}},function(e,t,r){var n=r(36)(Object.keys,Object);e.exports=n},function(e,t){e.exports=function(e,t){return function(r){return e(t(r))}}},function(e,t,r){var n=r(38),o=r(22),i=r(43),a=r(44),s=r(45),c=r(6),u=r(21),p=u(n),f=u(o),l=u(i),d=u(a),h=u(s),v=c;(n&&"[object DataView]"!=v(new n(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||s&&"[object WeakMap]"!=v(new s))&&(v=function(e){var t=c(e),r="[object Object]"==t?e.constructor:void 0,n=r?u(r):"";if(n)switch(n){case p:return"[object DataView]";case f:return"[object Map]";case l:return"[object Promise]";case d:return"[object Set]";case h:return"[object WeakMap]"}return t}),e.exports=v},function(e,t,r){var n=r(4)(r(2),"DataView");e.exports=n},function(e,t,r){var n=r(19),o=r(40),i=r(20),a=r(21),s=/^\[object .+?Constructor\]$/,c=Function.prototype,u=Object.prototype,p=c.toString,f=u.hasOwnProperty,l=RegExp("^"+p.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!i(e)||o(e))&&(n(e)?l:s).test(a(e))}},function(e,t,r){var n,o=r(41),i=(n=/[^.]+$/.exec(o&&o.keys&&o.keys.IE_PROTO||""))?"Symbol(src)_1."+n:"";e.exports=function(e){return!!i&&i in e}},function(e,t,r){var n=r(2)["__core-js_shared__"];e.exports=n},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,r){var n=r(4)(r(2),"Promise");e.exports=n},function(e,t,r){var n=r(4)(r(2),"Set");e.exports=n},function(e,t,r){var n=r(4)(r(2),"WeakMap");e.exports=n},function(e,t){e.exports=function(){return!1}},function(e,t,r){var n=r(6),o=r(24),i=r(8),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,e.exports=function(e){return i(e)&&o(e.length)&&!!a[n(e)]}},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,r){(function(e){var n=r(16),o=t&&!t.nodeType&&t,i=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=i&&i.exports===o&&n.process,s=function(){try{var e=i&&i.require&&i.require("util").types;return e||a&&a.binding&&a.binding("util")}catch(e){}}();e.exports=s}).call(this,r(26)(e))},function(e,t,r){var n=r(51),o=r(14),i=r(3),a=r(25),s=r(52),c=r(27),u=Object.prototype.hasOwnProperty;e.exports=function(e,t){var r=i(e),p=!r&&o(e),f=!r&&!p&&a(e),l=!r&&!p&&!f&&c(e),d=r||p||f||l,h=d?n(e.length,String):[],v=h.length;for(var m in e)!t&&!u.call(e,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||l&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||s(m,v))||h.push(m);return h}},function(e,t){e.exports=function(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}},function(e,t){var r=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){var n=typeof e;return!!(t=null==t?9007199254740991:t)&&("number"==n||"symbol"!=n&&r.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t,r){var n=r(54),o=r(82);e.exports=function(e,t){for(var r=0,i=(t=n(t,e)).length;null!=e&&r<i;)e=e[o(t[r++])];return r&&r==i?e:void 0}},function(e,t,r){var n=r(3),o=r(55),i=r(56),a=r(79);e.exports=function(e,t){return n(e)?e:o(e,t)?[e]:i(a(e))}},function(e,t,r){var n=r(3),o=r(15),i=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,a=/^\w*$/;e.exports=function(e,t){if(n(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!o(e))||(a.test(e)||!i.test(e)||null!=t&&e in Object(t))}},function(e,t,r){var n=r(57),o=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,i=/\\(\\)?/g,a=n((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(o,(function(e,r,n,o){t.push(n?o.replace(i,"$1"):r||e)})),t}));e.exports=a},function(e,t,r){var n=r(58);e.exports=function(e){var t=n(e,(function(e){return 500===r.size&&r.clear(),e})),r=t.cache;return t}},function(e,t,r){var n=r(59);function o(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError("Expected a function");var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a)||i,a};return r.cache=new(o.Cache||n),r}o.Cache=n,e.exports=o},function(e,t,r){var n=r(60),o=r(74),i=r(76),a=r(77),s=r(78);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,r){var n=r(61),o=r(67),i=r(22);e.exports=function(){this.size=0,this.__data__={hash:new n,map:new(i||o),string:new n}}},function(e,t,r){var n=r(62),o=r(63),i=r(64),a=r(65),s=r(66);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t,r){var n=r(9);e.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,r){var n=r(9),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(n){var r=t[e];return"__lodash_hash_undefined__"===r?void 0:r}return o.call(t,e)?t[e]:void 0}},function(e,t,r){var n=r(9),o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return n?void 0!==t[e]:o.call(t,e)}},function(e,t,r){var n=r(9);e.exports=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=n&&void 0===t?"__lodash_hash_undefined__":t,this}},function(e,t,r){var n=r(68),o=r(69),i=r(71),a=r(72),s=r(73);function c(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}c.prototype.clear=n,c.prototype.delete=o,c.prototype.get=i,c.prototype.has=a,c.prototype.set=s,e.exports=c},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,r){var n=r(10),o=Array.prototype.splice;e.exports=function(e){var t=this.__data__,r=n(t,e);return!(r<0)&&(r==t.length-1?t.pop():o.call(t,r,1),--this.size,!0)}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,r){var n=r(10);e.exports=function(e){var t=this.__data__,r=n(t,e);return r<0?void 0:t[r][1]}},function(e,t,r){var n=r(10);e.exports=function(e){return n(this.__data__,e)>-1}},function(e,t,r){var n=r(10);e.exports=function(e,t){var r=this.__data__,o=n(r,e);return o<0?(++this.size,r.push([e,t])):r[o][1]=t,this}},function(e,t,r){var n=r(11);e.exports=function(e){var t=n(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,r){var n=r(11);e.exports=function(e){return n(this,e).get(e)}},function(e,t,r){var n=r(11);e.exports=function(e){return n(this,e).has(e)}},function(e,t,r){var n=r(11);e.exports=function(e,t){var r=n(this,e),o=r.size;return r.set(e,t),this.size+=r.size==o?0:1,this}},function(e,t,r){var n=r(80);e.exports=function(e){return null==e?"":n(e)}},function(e,t,r){var n=r(7),o=r(81),i=r(3),a=r(15),s=n?n.prototype:void 0,c=s?s.toString:void 0;e.exports=function e(t){if("string"==typeof t)return t;if(i(t))return o(t,e)+"";if(a(t))return c?c.call(t):"";var r=t+"";return"0"==r&&1/t==-1/0?"-0":r}},function(e,t){e.exports=function(e,t){for(var r=-1,n=null==e?0:e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}},function(e,t,r){var n=r(15);e.exports=function(e){if("string"==typeof e||n(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}},function(e,t,r){"use strict";r.r(t);var n=r(12),o=r.n(n),i=r(5),a=r.n(i);let s,c,u;function p(e,t){return new Promise(r=>setTimeout(()=>r(t),e))}function f(e){if(!e||"string"!=typeof e)return null;const t=e.replace(/[^\d;]/g,"");return parseInt(t[0])||null}!function(e){e.HIT="HIT",e.MISS="MISS"}(s||(s={})),function(e){e.APPLICATION="APPLICATION",e.PAGE="PAGE",e.PAGE_PART="PAGE_PART",e.SCRIPT="SCRIPT",e.PIXEL="PIXEL",e.IMAGE="IMAGE",e.CUSTOM="CUSTOM"}(c||(c={})),function(e){e.UNKNOWN="CACHE_TYPE_UNKNOWN",e.NGINX="NGINX",e.CDN_MIDGRESS="CDN_MIDGRESS",e.CDN="CDN",e.MISS_ALL="MISS_ALL"}(u||(u={}));async function l(){const e=await navigator.permissions.query({name:"notifications"});return"denied"===Notification.permission&&"prompt"===e.state}const d=async({disableBrowserDetect:e})=>{let t="";return e&&await async function(){if(!navigator.permissions)return!1;try{return await Promise.race([l(),p(100,!0)])}catch(e){}return!1}()?t="browser-detect/headless":window.navigator.webdriver&&(t="webdriver"),t?{testingToolName:t}:{}};var h=r(13),v=r.n(h),m=r(0),y=r.n(m);function b(e,t){if("number"==typeof e&&"number"==typeof t)return e-t}const _=(e=[])=>{const t={};return 0===e.length||e.forEach(({name:e,duration:r})=>{"edge"===e&&(t.EDGE_TIME=r)}),t};function g(e){if(e instanceof PerformanceNavigationTiming)return e.unloadEventEnd-e.unloadEventStart}const T=e=>{const{domainLookupEnd:t,domainLookupStart:r,connectEnd:n,redirectEnd:o,redirectStart:i,requestStart:a,responseStart:s,responseEnd:c,secureConnectionStart:u,fetchStart:p,connectStart:l,redirectCount:d,duration:h,decodedBodySize:v,encodedBodySize:m,transferSize:y,nextHopProtocol:_}=e;return{...{CACHE_TIME:b(r,p),TLS_TIME:b(n,u),DNS_TIME:b(t,r)},...{TCP_TIME:b(n,l),REDIRECT_TIME:b(o,i),REDIRECT_COUNT:d,TIME_TO_FIRST_BYTE:b(s,r),TIME_TO_LAST_BYTE:b(c,r),TOTAL_TIME:h,PROTOCOL_VERSION:f(_),REQUEST_QUEUING_TIME:b(a,n),UNLOAD_TIME:g(e)},...{TRANSFER_SIZE:y,DECODED_SIZE:v,ENCODED_SIZE:m}}};let E;!function(e){e.Navigate="NTT_NAVIGATE",e.Reload="NTT_RELOAD",e.BackForward="NTT_BACK_FORWARD",e.Prerender="NTT_PRERENDER"}(E||(E={}));const w={navigate:E.Navigate,reload:E.Reload,back_forward:E.BackForward,prerender:E.Prerender},S=()=>{const e=performance.getEntriesByType("navigation")[0],{domLoading:t,domComplete:r,domInteractive:n,domContentLoadedEventEnd:o,responseStart:i,responseEnd:a,requestStart:s,navigationStart:c,startTime:u}=e;let p;const f=T(e),l={DOM_LOADING_TIME:b(t,c||u),DOM_CONTENT_LOADED_TIME:b(o,c||u),DOM_COMPLETE_TIME:b(r,c||u),DOM_INTERACTIVE_TIME:b(n,c||u),SERVER_TIME:b(i,s),RESPONSE_TIME:b(a,i)};p={...l,...f};const d=y()(performance.getEntriesByName("HYDRATION_TIME"),"0.startTime"),h=window.__ST__?((e={})=>Object.entries(e).map(([e,t])=>({name:e,duration:t})))(window.__ST__):e.serverTiming;p={...p,..._(h),HYDRATION_TIME:b(d,o)};const m={};return v()(p).filter(e=>p[e]>0).forEach(e=>m[e]=p[e]),m};const j=navigator.connection||navigator.mozConnection||navigator.webkitConnection,I=(new Date).toISOString(),O=(e,t)=>e.filter(({name:e})=>e===t);function M(){const e={};if(j&&j.effectiveType){const t="CELLULAR_"+j.effectiveType.toUpperCase().replace("-","_");e.connectionType=t}return e}async function P({attributes:e,disableBrowserDetect:t}){if(t)return e;const{browser:r,platformVersion:n}=await async function(e){if(!window.__BROWSER_DETECT__)return{browser:"unknown",platformVersion:"unknown"};const t=window.__BROWSER_DETECT__.version;return{browser:e?"sitespeed":await window.__BROWSER_DETECT__.getBrowserName(),platformVersion:t}}();return{...e,browser:r,platformVersion:n}}async function x(e,{attributes:t,page:r,object:n,properties:o={},disableBrowserDetect:i,htmlElements:a}){const s=await P({attributes:t,disableBrowserDetect:i}),u=M(),p=function(e={}){return Object.keys(e).map(t=>({type:t,value:e[t]}))}(e);return n.type===c.APPLICATION&&(u.navigationTimingType=(()=>{const e=performance.getEntriesByType("navigation")[0];return w[e.type]})()),p.length?[{metrics:p,attributes:s,object:n,timestamp:I,page:r,...await d({disableBrowserDetect:i}),properties:{...o,...u},...a}]:[]}var A=e=>async t=>{const{metrics:r,properties:n}=t;if(a()(r))return[];const o={...e,properties:{...e.properties,...n}};return await x(r,o)};function N(e){const t=e.serverTiming.find(e=>"RequestID"===e.name);if(t)return t.description}let C;function k(){if(!C){const e=performance.getEntriesByType("navigation");if(!e.length)return;C=N(e[0])}return C}const D=(e,t=!1)=>{const{initiatorType:r,serverTiming:n=[]}=e,o=T(e),i="img"===r||t?((e=[])=>{const t=e.reduce((e,t)=>"o3_img_resize"===t.name?(e[t.name]=t.duration||0,e):(e[t.name]=t.description||"",e),{}),r={cacheType:u.UNKNOWN},n=!t["cdn-cache"]||t["cdn-cache"]===s.MISS;return t["cdn-cache"]===s.HIT?r.cacheType=u.CDN:n&&t.o3_img_cache===s.HIT?r.cacheType=u.NGINX:n&&t.o3_img_cache===s.MISS?(r.cacheType=u.MISS_ALL,r.resizeTime=t.o3_img_resize):n&&"midgress"in t&&(r.cacheType=u.CDN_MIDGRESS),r})(n):{},a={...o,...i.resizeTime?{IMG_RESIZE_TIME:i.resizeTime}:{}},c={};v()(a).filter(e=>a[e]>0).forEach(e=>c[e]=a[e]);const p={url:e.name,cacheType:i.cacheType,requestId:N(e)},f=(e=>{for(const r of e){var t;if("edge_ip"===r.name)return null!==(t=r.description)&&void 0!==t?t:""}return""})(n);return f&&(p.edgeIp=f),{metrics:c,properties:p}};async function L(e,{attemts:t=10,timeoutMillis:r=100}={}){const n=encodeURIComponent(e);let o=t;for(;o>0;){const e=performance.getEntriesByType("resource").find(e=>e.name.includes(n));if(e)return e;o-=1,await p(r)}return null}const B=e=>e.renderTime||e.loadTime,R={CLS:"CUMULATIVE_LAYOUT_SHIFT",LCP:"LARGEST_CONTENTFUL_PAINT",FID:"FIRST_INPUT_DELAY",LT:"LONG_TASK_COUNT"},U=(e,t)=>{const r={};if(Object.keys(e).forEach(t=>{var n;e[t].value&&(r[(n=t,R[n])]=e[t].value)}),t){r[R.LCP]=B(t);const{loadTime:e}=t;r.LCP_LOAD_TIME=e}return r};var z=function(e=[]){if(performance.getEntriesByType){const t=performance.getEntriesByType("mark").reduce((e,t)=>(e[t.name]=t.startTime,e),{}),r={};for(let n=0;n<e.length;n++){const o=e[n],i=b(t[o+":end"],t[o+":start"]);i&&i>0&&(r[o]=i,performance.clearMarks(o+":end"))}return 0===Object.keys(r).length?{}:r}return{}},G=({trackNavigation:e,trackPaint:t,customMarksNames:r})=>({...e?S():{},...t?function(){if(performance.getEntriesByType){const e=performance.getEntriesByType("paint"),[t]=O(e,"first-contentful-paint"),[r]=O(e,"first-paint");if(t&&r)return{FIRST_CONTENTFUL_PAINT:t.startTime,FIRST_PAINT:r.startTime}}return{}}():{},...z(r)});let F;function V({endpoint:e,headers:t},r){F||(F=async function e(t=1e3,r=100,n=10){const o=window.__BAZONE__;if(o&&"object"==typeof o&&"function"==typeof o.then)return Promise.race([o,p(t)]);if(n>0){await p(r);return e(t,r,n-1)}return Promise.resolve()}()),r.events.length&&F.then(()=>{const n=JSON.stringify(r);t&&"object"==typeof t?fetch(e,{body:n,method:"POST",headers:{"Content-Type":"application/json",...t}}):navigator.sendBeacon(e,n)})}const H=async({metrics:e={},getPage:t,object:r={},getAttributes:n,endpoint:i,trackNavigation:s,trackPaint:u,customMarksNames:p,trackImages:f,resources:l=[],trackJs:d,trackSpa:h,trackLcpElement:v,spaTransitionUrl:m,queryUrl:b,trackPagination:g,paginationUrl:T,extraPageInfo:E={},disableBrowserDetect:w,disableModalTracking:S,webVitalsVariable:j,headers:I,isSiteSpeed:O})=>{if(!window.performance||!performance.timing)return;const M=(e=>{if(!e)return;const{LCP:t}=e,r=performance.getEntriesByType("navigation")[0].loadEventEnd,n=t.entries.filter(e=>B(e)<=r);return n[n.length-1]})(j),P=G({trackNavigation:s,trackPaint:u,customMarksNames:p}),C=j?U(j,M):{},R=j&&v?((e,t)=>{const r={};if(e.LCP.entries.length){var n,o;const{element:e}=t,i=null!==(n=y()(e,"localName"))&&void 0!==n?n:"",a=null!==(o=y()(e,"currentSrc"))&&void 0!==o?o:"",s=t.size,c=(e=>{if(!e)return[];const t=[];let r=e;for(;r.parentNode&&"BODY"!==r.nodeName;){const e=r.getAttribute("data-widget");e&&t.push(e),r=r.parentNode}return t})(e);r.htmlElements=[{type:"ELEMENT_TYPE_LCP",tag:i,url:a,size:s,widgets:c}]}return r})(j,M):{},z={...P,...e,...C},F={attributes:{...n},page:{...t},object:r,disableBrowserDetect:w,isSiteSpeed:O},H=f&&l.length?await async function(e,t){const r={...e,object:{type:c.IMAGE}},n=t.map(e=>D(e)).map(A(r)),i=await Promise.all(n);return i.filter(e=>!a()(e)),o()(i)}(F,l):[],q=d&&l.length?await async function(e,t){const r=t.filter(e=>/\.js$/.test(e.name)),n={...e,object:{type:c.SCRIPT}},i=r.map(e=>D(e)).map(A(n)),s=await Promise.all(i);return s.filter(e=>!a()(e)),o()(s)}(F,l):[],Y=g?await(async(e,t,{layoutContainer:r,layoutPagePartIndex:n,queryUrl:o="",loaderVisibleTime:i})=>{const a=y()(performance.getEntriesByName("paginationStart"),"0.startTime"),s=y()(performance.getEntriesByName("paginationEnd"),"0.startTime"),c=await L(o);if(!c)return{events:[]};performance.clearMarks("paginationStart"),performance.clearMarks("paginationEnd");const u=D(c);return r&&n&&(e.page={...e.page,layoutContainer:r,layoutPagePartIndex:n}),e.properties={...e.properties,withSW:c.workerStart>0},u.metrics={...u.metrics,..._(c.serverTiming)},u.metrics.TOTAL_TIME=s-a,i&&(u.metrics.LOADER_TIME=i.end-i.start),{events:await A(e)(u),requestId:N(c)}})(F,0,E):{events:[]},$=h?await(async(e,t,{saveMarks:r}={},n="",o=!1)=>{const i=y()(performance.getEntriesByName("spaTransitionStart"),"0.startTime"),a=y()(performance.getEntriesByName("spaTransitionEnd"),"0.startTime"),s=y()(performance.getEntriesByName("layoutTimeStart"),"0.startTime"),c=y()(performance.getEntriesByName("layoutTimeEnd"),"0.startTime"),u={events:[]},p=y()(e,"page.current");if(o&&"modal"===p)return u;const f=await L(n);if(!f)return u;const l=D(f);return l.metrics={...l.metrics,..._(f.serverTiming)},l.metrics.TOTAL_TIME=a-i,l.metrics.LAYOUT_TIME=c-s,r||setTimeout(()=>{performance.clearMarks("spaTransitionStart"),performance.clearMarks("spaTransitionEnd"),performance.clearMarks("layoutTimeStart"),performance.clearMarks("layoutTimeEnd")},0),{events:await A(e)(l),requestId:N(f)}})(F,0,{saveMarks:O},b,S):{events:[]},W=s||u||p||j?await x(z,{...F,htmlElements:R}):[],J=H.length||q.length||W.length?k():void 0,X=Y.requestId,K=$.requestId;let Z;for(const e of[J,X,K])if(Z){if(e&&Z!==e){Z=void 0;break}}else Z=e;Z||(Z=k());V({endpoint:i,headers:I},{events:[...W,...$.events,...Y.events,...H,...q],requestId:Z})};const q=async({getAttributes:e,object:t,propertyUrl:r,metrics:n,getPage:o,endpoint:i,headers:a,disableBrowserDetect:s,errors:c,isSiteSpeed:u})=>{const p={attributes:{...e},page:{...o},object:t,disableBrowserDetect:s,properties:{url:r},isSiteSpeed:u};if(!n.length)return;c&&c.length&&p.properties&&(p.properties.errors=c);V({endpoint:i,headers:a},{events:await async function(e,{attributes:t,page:r,object:n,properties:o={},disableBrowserDetect:i}){if(!e.length)return[];const a=await P({attributes:t,disableBrowserDetect:i}),s=M();return[{customMetrics:e,attributes:a,object:n,timestamp:I,page:r,...await d({disableBrowserDetect:i}),properties:{...o,...s}}]}(n,p),requestId:k()})};var Y=r(1),$=r.n(Y);let W;!function(e){e.START="start",e.END="end"}(W||(W={}));class J{constructor(e){$()(this,"heldEntries",[]),$()(this,"sentEntries",[]),$()(this,"capacity",20),this.capacity=void 0!==e.capacity?e.capacity:20}addHeldEntries(e,t=W.END){"start"===t?this.heldEntries.unshift(...e):this.heldEntries.push(...e)}addSentEntries(e){this.sentEntries.push(...e)}deleteHeldEntry(e){return"object"==typeof this.heldEntries[e]&&(this.heldEntries.splice(e,1),!0)}clearHeldEntries(){this.heldEntries=[]}clearSentEntries(){this.sentEntries=[]}isFull(){return this.heldEntries.length>=this.capacity}}const X={pageCloseEnabled:!0,capacity:20,sendTimeout:3e4,sendMethod:()=>!1};class K{constructor(e){$()(this,"store",void 0),$()(this,"config",void 0),$()(this,"scheduledSendTimer",void 0),$()(this,"isOnUnload",!1),this.config=Object.assign({},e),this.store=new J({capacity:this.config.capacity}),this.scheduledSendTimer=((e,t)=>{let r;const n={start(){n.cancel(),r=window.setTimeout(e,t)},cancel(){window.clearTimeout(r),r=void 0}};return n})(()=>this.send(),this.config.sendTimeout||e.sendTimeout||X.sendTimeout),setTimeout(()=>{const e=()=>{"hidden"===document.visibilityState&&(this.flush(),window.removeEventListener("visibilitychange",e,!0))};window.addEventListener("visibilitychange",e,!0),window.addEventListener("pagehide",()=>this.flush(),{capture:!0,once:!0})}),window.addEventListener("beforeunload",()=>{this.isOnUnload=!0,this.flush()})}add(e,{forceSend:t=!1}={}){if(this.isOnUnload)return this.scheduledSendTimer.cancel(),void this.store.addHeldEntries([e]);this.store.addHeldEntries([e]),this.store.isFull()||t?this.flush():this.scheduledSendTimer.start()}flush(){this.scheduledSendTimer.cancel(),this.send()}send(){const e=this.store.heldEntries.slice();if(!e.length)return;this.config.sendMethod(e)&&(this.store.clearHeldEntries(),this.store.addSentEntries(e))}}class Z{constructor(e){$()(this,"observer",void 0),$()(this,"entriesBuffer",void 0),$()(this,"collectEntries",e=>{e.getEntries().filter(e=>"img"===e.initiatorType||"css"===e.initiatorType&&/.(jpe?g|png|webp)/i.test(e.name)).forEach(e=>{this.entriesBuffer.add(e)})}),$()(this,"stopCollectEntries",()=>{this.observer.disconnect()}),this.entriesBuffer=new K({...X,sendMethod:e}),this.observer=new PerformanceObserver(this.collectEntries),document.addEventListener("pagehide",this.stopCollectEntries)}startCollectEntries(){this.observer.observe({type:"resource",buffered:!0})}}class Q{constructor(e){$()(this,"observer",void 0),$()(this,"buffer",void 0),$()(this,"stopCollectingEntries",()=>{this.observer.disconnect()}),$()(this,"collectScripts",e=>{for(const t of e.getEntries())/\.js$/.test(t.name)&&this.buffer.add(t)}),this.observer=new PerformanceObserver(this.collectScripts),this.buffer=new K({...X,sendMethod:e}),document.addEventListener("pagehide",this.stopCollectingEntries)}startCollectingEntries(){this.observer.observe({type:"resource",buffered:!0})}}window.__ClientMetrics__={},window.__ClientMetrics__.init=function({endpoint:e="",trackJs:t=!1,trackImages:r=!1,disableBrowserDetect:n=!1,trackLcpElement:o=!1,disableModalTracking:i=!1,customMarksNames:a=[],object:s={},settings:u={spaTransitionUrl:"",paginationUrl:""},namespace:p="",trackNavigation:f=!0,trackPaint:l=!0,trackMemory:d=!0,webVitalsVariable:h=window.$$windowMetrics,headers:v=null,isSiteSpeed:m}={}){try{if(!p)return;if(!e)return;if(!(window&&window.navigator&&navigator.sendBeacon))return;const b={pageViewId:y()(window,"$tracker.pageViewId",""),referrer:document.referrer},_={domainName:y()(window,"location.hostname"),screenResolutionX:y()(window,"screen.width"),screenResolutionY:y()(window,"screen.height"),screenPixelDensity:y()(window,"devicePixelRatio"),namespace:p};o&&window.addEventListener("load",()=>console.log("LCP:",(e=>e.LCP.entries.map(e=>{if(e.url){const t=performance.getEntriesByName(e.url)[0],{TIME_TO_FIRST_BYTE:r,TIME_TO_LAST_BYTE:n}=T(t);r&&n&&(e.ttfb=r,e.ttlb=n)}return e}))(h)));const g={metrics:{},getAttributes:_,disableBrowserDetect:n,object:s,getPage:b,endpoint:e,trackNavigation:f,trackPaint:l,trackLcpElement:o,customMarksNames:a,headers:v,isSiteSpeed:m},{spaTransitionUrl:E,paginationUrl:w}=u,S=async()=>{await H({...g,webVitalsVariable:h}),window.removeEventListener("beforeunload",S)};window.addEventListener("beforeunload",S),"complete"===document.readyState?setTimeout(S,0):window.addEventListener("load",()=>setTimeout(S,0)),d&&window.addEventListener("beforeunload",()=>(async({endpoint:e,getAttributes:t,getPage:r,headers:n,...o})=>{const i=y()(window.performance,["memory","usedJSHeapSize"]),a=y()(window.performance,["memory","totalJSHeapSize"]),s={TOTAL_MEMORY_USAGE:a,JS_HEAP_MEMORY_USAGE:i},c={...o,attributes:{...t},page:{...r}};if(i||a){V({endpoint:e,headers:n},{events:await x(s,c),requestId:k()})}})({endpoint:e,getAttributes:_,getPage:b,headers:null,object:{type:c.APPLICATION},disableBrowserDetect:n,isSiteSpeed:m})),window.__ClientMetrics__.trackSpaTransition=(t="",{objectType:r=""}={})=>{H({customMarksNames:a,getAttributes:_,object:{type:r||c.PAGE},getPage:b,endpoint:e,trackSpa:!0,disableModalTracking:i,spaTransitionUrl:E,queryUrl:t,headers:null,disableBrowserDetect:n,isSiteSpeed:m})},window.__ClientMetrics__.trackSpa=()=>{H({customMarksNames:a,getAttributes:_,object:{type:c.PAGE},getPage:b,endpoint:e,headers:v,disableBrowserDetect:n,isSiteSpeed:m})},window.__ClientMetrics__.trackPaginationChange=t=>{H({getAttributes:_,object:{type:c.PAGE_PART},getPage:b,endpoint:e,trackPagination:!0,paginationUrl:w,extraPageInfo:t,headers:null,disableBrowserDetect:n,isSiteSpeed:m})},window.__ClientMetrics__.trackCustomMetric=({propertyUrl:t,metrics:r=[],objectType:o=c.CUSTOM,errors:i=[]})=>{q({getAttributes:_,object:{type:o},propertyUrl:t,metrics:r,getPage:b,endpoint:e,disableBrowserDetect:n,headers:null,errors:i,isSiteSpeed:m})},r&&new Z(t=>(H({resources:t,getAttributes:_,getPage:b,endpoint:e,trackImages:r,headers:null,disableBrowserDetect:n,isSiteSpeed:m}),!0)).startCollectEntries(),t&&(e=>{new Q(e).startCollectingEntries()})(r=>(H({resources:r,getAttributes:_,getPage:b,endpoint:e,trackJs:t,headers:null,disableBrowserDetect:n,isSiteSpeed:m}),!0)),window.__ClientMetrics__.trackWidgetsTimeSpent=()=>{}}catch(e){console.error(e)}},window.__ClientMetricsAutoInit__&&window.__ClientMetricsInitV2__&&window.__ClientMetrics__.init(window.__ClientMetricsInitV2__)}])}));